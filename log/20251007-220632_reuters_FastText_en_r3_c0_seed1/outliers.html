
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["jun jun","jun jun","apr apr","apr apr","apr apr","oct oct","oct oct","oct oct","oct oct","oct oct","stifel financial said received unsolicited merger proposal stifel financial said received unsolicited merger proposal","circle express terminates planned acquisition overland express circle express terminates planned acquisition overland express","gencorp said agreement sell rko pictures terminated gencorp said agreement sell rko pictures terminated","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","stoltenberg declines comment possible changed targets currencies stoltenberg declines comment possible changed targets currencies","stoltenberg rule central bank intervention stabilize currencies stoltenberg rule central bank intervention stabilize currencies","tecsyn international terminates takeover talks investor group tecsyn international terminates takeover talks investor group","stoltenberg says assumes monetary cooperation continue stoltenberg says assumes monetary cooperation continue","viacom says federal court rejects request block planned merger viacom says federal court rejects request block planned merger","stoltenberg says meeting baker underscored monetary cooperation stoltenberg says meeting baker underscored monetary cooperation","fed sets overnight system repurchases fed says fed sets overnight system repurchases fed says","miyazawa says still strongly supports louvre accord miyazawa says still strongly supports louvre accord","balladur urges respect pledges monetary policy louvre accord balladur urges respect pledges monetary policy louvre accord","weinberger says forces attacked iranian oil platform weinberger says forces attacked iranian oil platform","robins says rorer group merger proposal merits consideration robins says rorer group merger proposal merits consideration","poehl says chances exchange rate stability good poehl says chances exchange rate stability good","jardine matheson said sets two five bonus issue replacing shares jardine matheson said sets two five bonus issue replacing shares","fed seger says foreign exchange markets showing signs stability fed seger says foreign exchange markets showing signs stability","cable wireless merge two units new telecommunication operation cable wireless merge two units new telecommunication operation","miyazawa says baker remarks aimed reaffirming louvre agreement miyazawa says baker remarks aimed reaffirming louvre agreement","trump interstate properties talks acquire alexanders trump interstate properties talks acquire alexanders","sumita welcomes west german joint confirmation louvre accord sumita welcomes west german joint confirmation louvre accord","fed seger says thrift industry needs stable interest rates fed seger says thrift industry needs stable interest rates","marked dollar fall would burden trade deficit stoltenberg marked dollar fall would burden trade deficit stoltenberg","nakasone sumita agree discount rate cut appropriate central bank sources nakasone sumita agree discount rate cut appropriate central bank sources","german finance ministry confident maintaining currency stability around current levels spokesman german finance ministry confident maintaining currency stability around current levels spokesman","german finance ministry confident maintaining currency stability around current levels spokesman german finance ministry confident maintaining currency stability around current levels spokesman","industries says consider possible sale aerospace business industries says consider possible sale aerospace business","forstmann little said plans sell sybron corp unit forstmann little said plans sell sybron corp unit","hutton lbo inc said tender offer <unk> purolator courier expired hutton lbo inc said tender offer <unk> purolator courier expired","north american communications weighs possible sale merger north american communications weighs possible sale merger","simon schuster acquire woodhead faulkner undisclosed terms simon schuster acquire woodhead faulkner undisclosed terms","ameribanc <unk> cardinal end acquisition ameribanc investors group cardinal savings loan association jointly announced proposed acquisition cardinal ameribanc terminated mutual agreement","barco directors approve buyout offer senior management barco directors approve buyout offer senior management","ccr video <unk> received offer negotiate takeover intercep investment corp ccr video <unk> received offer negotiate takeover intercep investment corp","basin pipeline texas okla border washed floods bpd crude affected basin pipeline texas okla border washed floods bpd crude affected","fed approves citicorp purchase assets sears calif thrift fed approves citicorp purchase assets sears calif thrift","greyhound lines agrees acquire remaining routes trailways corp greyhound lines agrees acquire remaining routes trailways corp","raytheon qtr shr dlrs dlrs raytheon qtr shr dlrs dlrs","shipping sources say unidentified jets raid iranian oil platforms southern gulf shipping sources say unidentified jets raid iranian oil platforms southern gulf"];
var att_heads = [2,2,0,0,0,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1];
var trigram_weights = [[0.4675128757953644, 0.4675128757953644],[0.4675128757953644, 0.4675128757953644],[0.4673031270503998, 0.4673031270503998],[0.4673031270503998, 0.4673031270503998],[0.4673031270503998, 0.4673031270503998],[0.4694080948829651, 0.4694080948829651],[0.4694080948829651, 0.4694080948829651],[0.4694080948829651, 0.4694080948829651],[0.4694080948829651, 0.4694080948829651],[0.4694080948829651, 0.4694080948829651],[0.0007405106443911791, 0.12454936653375626, 0.08760776370763779, 0.09134085476398468, 0.05146583914756775, 0.03348151594400406, 0.1108141615986824, 0.0007405106443911791, 0.12454936653375626, 0.08760776370763779, 0.09134085476398468, 0.05146583914756775, 0.03348151594400406, 0.1108141615986824],[0.07834239304065704, 0.08525002002716064, 0.024203218519687653, 0.11416620761156082, 0.06271510571241379, 0.05007301643490791, 0.08525002002716064, 0.07834239304065704, 0.08525002002716064, 0.024203218519687653, 0.11416620761156082, 0.06271510571241379, 0.05007301643490791, 0.08525002002716064],[0.001226971740834415, 0.14515964686870575, 0.07315535098314285, 0.04112904146313667, 0.001226971740834415, 0.11130465567111969, 0.12557034194469452, 0.001226971740834415, 0.14515964686870575, 0.07315535098314285, 0.04112904146313667, 0.001226971740834415, 0.11130465567111969, 0.12557034194469452],[0.01598159410059452, 0.15433451533317566, 0.05763092637062073, 0.0010905390372499824, 0.0010905390372499824, 0.02730509079992771, 0.2425667941570282, 0.01598159410059452, 0.15433451533317566, 0.05763092637062073, 0.0010905390372499824, 0.0010905390372499824, 0.02730509079992771, 0.2425667941570282],[0.0010101604275405407, 0.043230801820755005, 0.05868374928832054, 0.13676272332668304, 0.16188623011112213, 0.09573483467102051, 0.0026915280614048243, 0.0010101604275405407, 0.043230801820755005, 0.05868374928832054, 0.13676272332668304, 0.16188623011112213, 0.09573483467102051, 0.0026915280614048243],[0.0012372287455946207, 0.1271231472492218, 0.1887759119272232, 0.0594760924577713, 0.10335875302553177, 0.0167323499917984, 0.0032965417485684156, 0.0012372287455946207, 0.1271231472492218, 0.1887759119272232, 0.0594760924577713, 0.10335875302553177, 0.0167323499917984, 0.0032965417485684156],[0.0009770620381459594, 0.18620359897613525, 0.03538378328084946, 0.03336223587393761, 0.013687796890735626, 0.0029449143912643194, 0.22744062542915344, 0.0009770620381459594, 0.18620359897613525, 0.03538378328084946, 0.03336223587393761, 0.013687796890735626, 0.0029449143912643194, 0.22744062542915344],[0.0010097395861521363, 0.11915881931781769, 0.11093961447477341, 0.07469996809959412, 0.06906407326459885, 0.1246229037642479, 0.0010097395861521363, 0.11915881931781769, 0.11093961447477341, 0.07469996809959412, 0.06906407326459885, 0.1246229037642479],[0.0005715355509892106, 0.06744660437107086, 0.09136676043272018, 0.02348317950963974, 0.030203523114323616, 0.09718383848667145, 0.0662715956568718, 0.09763146936893463, 0.02584145963191986, 0.0005715355509892106, 0.06744660437107086, 0.09136676043272018, 0.02348317950963974, 0.030203523114323616, 0.09718383848667145, 0.0662715956568718, 0.09763146936893463, 0.02584145963191986],[0.001001593191176653, 0.1181974858045578, 0.115908183157444, 0.02523699216544628, 0.09705150127410889, 0.07409730553627014, 0.0685068890452385, 0.001001593191176653, 0.1181974858045578, 0.115908183157444, 0.02523699216544628, 0.09705150127410889, 0.07409730553627014, 0.0685068890452385],[0.06046236306428909, 0.08461412042379379, 0.1160602867603302, 0.1122579425573349, 5.7407251006225124e-05, 0.06046236306428909, 0.06608549505472183, 0.06046236306428909, 0.08461412042379379, 0.1160602867603302, 0.1122579425573349, 5.7407251006225124e-05, 0.06046236306428909, 0.06608549505472183],[0.0008421626989729702, 0.09938318282365799, 0.19076967239379883, 0.12643206119537354, 0.06798622012138367, 0.0005718130269087851, 0.014014892280101776, 0.0008421626989729702, 0.09938318282365799, 0.19076967239379883, 0.12643206119537354, 0.06798622012138367, 0.0005718130269087851, 0.014014892280101776],[0.0011830235598608851, 0.04148070886731148, 0.1869611293077469, 0.03936554118990898, 0.08751942217350006, 0.12240810692310333, 0.0008032512268982828, 0.019687345251441002, 0.0011830235598608851, 0.04148070886731148, 0.1869611293077469, 0.03936554118990898, 0.08751942217350006, 0.12240810692310333, 0.0008032512268982828, 0.019687345251441002],[0.0011988362530246377, 0.14147405326366425, 0.07494960725307465, 0.12796995043754578, 0.0011894835624843836, 0.04726071655750275, 0.10475850850343704, 0.0011988362530246377, 0.14147405326366425, 0.07494960725307465, 0.12796995043754578, 0.0011894835624843836, 0.04726071655750275, 0.10475850850343704],[0.0077571258880198, 0.066789411008358, 0.0005659665912389755, 0.13174577057361603, 0.02558966353535652, 0.08469440042972565, 0.06164905056357384, 0.12092564254999161, 0.0077571258880198, 0.066789411008358, 0.0005659665912389755, 0.13174577057361603, 0.02558966353535652, 0.08469440042972565, 0.06164905056357384, 0.12092564254999161],[0.0005475075449794531, 0.06461106985807419, 0.12830810248851776, 0.07434433698654175, 0.08687084168195724, 0.06686815619468689, 0.07844995707273483, 0.0005475075449794531, 0.06461106985807419, 0.12830810248851776, 0.07434433698654175, 0.08687084168195724, 0.06686815619468689, 0.07844995707273483],[0.0003571327542886138, 0.0003571327542886138, 0.04225138947367668, 0.05396139621734619, 0.10988961905241013, 0.11370252072811127, 0.0480959378182888, 0.04057645797729492, 0.08664119988679886, 0.004167196806520224, 0.0003571327542886138, 0.0003571327542886138, 0.04225138947367668, 0.05396139621734619, 0.10988961905241013, 0.11370252072811127, 0.0480959378182888, 0.04057645797729492, 0.08664119988679886, 0.004167196806520224],[0.0515296645462513, 0.0004772671381942928, 0.05632203817367554, 0.08512359112501144, 0.06480661034584045, 0.013256377540528774, 0.11888382583856583, 0.05131112411618233, 0.058289553970098495, 0.0515296645462513, 0.0004772671381942928, 0.05632203817367554, 0.08512359112501144, 0.06480661034584045, 0.013256377540528774, 0.11888382583856583, 0.05131112411618233, 0.058289553970098495],[0.03513554483652115, 0.040548376739025116, 0.021515125408768654, 0.13537313044071198, 0.02710968628525734, 0.14843010902404785, 0.03245565667748451, 0.05921237915754318, 0.03513554483652115, 0.040548376739025116, 0.021515125408768654, 0.13537313044071198, 0.02710968628525734, 0.14843010902404785, 0.03245565667748451, 0.05921237915754318],[0.0011002871906384826, 0.1298443078994751, 0.02772376872599125, 0.13099180161952972, 0.0478382408618927, 0.09560227394104004, 0.0007470747223123908, 0.06560207903385162, 0.0011002871906384826, 0.1298443078994751, 0.02772376872599125, 0.13099180161952972, 0.0478382408618927, 0.09560227394104004, 0.0007470747223123908, 0.06560207903385162],[0.04181893542408943, 0.11366262286901474, 0.13862638175487518, 0.028933821246027946, 0.17455324530601501, 0.0013723018346354365, 0.04181893542408943, 0.11366262286901474, 0.13862638175487518, 0.028933821246027946, 0.17455324530601501, 0.0013723018346354365],[0.0008602014859206975, 0.08042197674512863, 0.07698184996843338, 0.012256383895874023, 0.20113570988178253, 0.1130146011710167, 0.0005840609665028751, 0.014315085485577583, 0.0008602014859206975, 0.08042197674512863, 0.07698184996843338, 0.012256383895874023, 0.20113570988178253, 0.1130146011710167, 0.0005840609665028751, 0.014315085485577583],[0.05408041179180145, 0.0005008921143598855, 0.05911001190543175, 0.024738917127251625, 0.04576372727751732, 0.05243457853794098, 0.0905492976307869, 0.11388756334781647, 0.05893458425998688, 0.05408041179180145, 0.0005008921143598855, 0.05911001190543175, 0.024738917127251625, 0.04576372727751732, 0.05243457853794098, 0.0905492976307869, 0.11388756334781647, 0.05893458425998688],[0.15771564841270447, 0.005769011564552784, 0.10500847548246384, 0.02104262076318264, 0.09303292632102966, 0.08244257420301437, 0.034195009618997574, 0.0007937464397400618, 0.15771564841270447, 0.005769011564552784, 0.10500847548246384, 0.02104262076318264, 0.09303292632102966, 0.08244257420301437, 0.034195009618997574, 0.0007937464397400618],[0.0005838683573529124, 0.0005838683573529124, 0.0661618635058403, 0.07820749282836914, 0.09264007955789566, 0.05776266008615494, 0.05457431077957153, 0.08908641338348389, 0.028067735955119133, 0.032331693917512894, 0.0005838683573529124, 0.0005838683573529124, 0.0661618635058403, 0.07820749282836914, 0.09264007955789566, 0.05776266008615494, 0.05457431077957153, 0.08908641338348389, 0.028067735955119133, 0.032331693917512894],[0.0056447735987603664, 0.02395571395754814, 0.011019268073141575, 0.060900699347257614, 0.0950668603181839, 0.0190898384898901, 0.04838532209396362, 0.050300613045692444, 0.1460210382938385, 0.03204111009836197, 0.007376648485660553, 0.0056447735987603664, 0.02395571395754814, 0.011019268073141575, 0.060900699347257614, 0.0950668603181839, 0.0190898384898901, 0.04838532209396362, 0.050300613045692444, 0.1460210382938385, 0.03204111009836197, 0.007376648485660553],[0.0056447735987603664, 0.02395571395754814, 0.011019268073141575, 0.060900699347257614, 0.0950668603181839, 0.0190898384898901, 0.04838532209396362, 0.050300613045692444, 0.1460210382938385, 0.03204111009836197, 0.007376648485660553, 0.0056447735987603664, 0.02395571395754814, 0.011019268073141575, 0.060900699347257614, 0.0950668603181839, 0.0190898384898901, 0.04838532209396362, 0.050300613045692444, 0.1460210382938385, 0.03204111009836197, 0.007376648485660553],[0.053246695548295975, 0.07956726849079132, 0.12216085195541382, 0.09128407388925552, 0.058455657213926315, 0.013447278179228306, 0.08183818310499191, 0.053246695548295975, 0.07956726849079132, 0.12216085195541382, 0.09128407388925552, 0.058455657213926315, 0.013447278179228306, 0.08183818310499191],[0.0008138790144585073, 0.22040902078151703, 0.09628777205944061, 0.0713772103190422, 0.027281852439045906, 0.0008138790144585073, 0.007442082744091749, 0.07557429373264313, 0.0008138790144585073, 0.22040902078151703, 0.09628777205944061, 0.0713772103190422, 0.027281852439045906, 0.0008138790144585073, 0.007442082744091749, 0.07557429373264313],[0.00026590388733893633, 0.0009388558682985604, 0.005748291499912739, 0.11107344180345535, 0.023507222533226013, 0.2088281661272049, 0.0009388558682985604, 0.0009388558682985604, 0.006712067406624556, 0.1410483568906784, 0.00026590388733893633, 0.0009388558682985604, 0.005748291499912739, 0.11107344180345535, 0.023507222533226013, 0.2088281661272049, 0.0009388558682985604, 0.0009388558682985604, 0.006712067406624556, 0.1410483568906784],[0.09807832539081573, 0.0027615008875727654, 0.16127470135688782, 0.0021584436763077974, 0.11939582228660583, 0.07645759731531143, 0.03987360745668411, 0.09807832539081573, 0.0027615008875727654, 0.16127470135688782, 0.0021584436763077974, 0.11939582228660583, 0.07645759731531143, 0.03987360745668411],[0.00028389471117407084, 0.001805117935873568, 0.15255942940711975, 0.001805117935873568, 0.00031411723466590047, 0.04127352684736252, 0.301958829164505, 0.00028389471117407084, 0.001805117935873568, 0.15255942940711975, 0.001805117935873568, 0.00031411723466590047, 0.04127352684736252, 0.301958829164505],[0.000607725465670228, 0.000607725465670228, 0.001990474993363023, 0.16243475675582886, 0.057028062641620636, 0.000607725465670228, 0.0009601822821423411, 0.1414664089679718, 0.001990474993363023, 0.05865095928311348, 0.019240878522396088, 0.10662152618169785, 0.028282752260565758, 0.07503506541252136, 0.10053800046443939, 0.057028062641620636, 0.001990474993363023, 0.000607725465670228, 0.06219564005732536, 0.08527343720197678, 0.03623422235250473],[0.00011515570076880977, 0.02479974366724491, 0.01899769902229309, 0.015183382667601109, 0.1709394007921219, 0.1638563722372055, 0.10533968359231949, 0.00011515570076880977, 0.02479974366724491, 0.01899769902229309, 0.015183382667601109, 0.1709394007921219, 0.1638563722372055, 0.10533968359231949],[0.0006191711872816086, 0.12504318356513977, 0.0006191711872816086, 0.07637382298707962, 0.1377212256193161, 0.08950202912092209, 0.021141884848475456, 0.0006191711872816086, 0.04207947850227356, 0.0056616803631186485, 0.0006191711872816086, 0.12504318356513977, 0.0006191711872816086, 0.07637382298707962, 0.1377212256193161, 0.08950202912092209, 0.021141884848475456, 0.0006191711872816086, 0.04207947850227356, 0.0056616803631186485],[0.04637688770890236, 0.06716813892126083, 0.0017302159685641527, 0.0015430811326950788, 0.03992646187543869, 0.05350593104958534, 0.07853256911039352, 5.796188997919671e-05, 0.08511562645435333, 0.12604312598705292, 0.04637688770890236, 0.06716813892126083, 0.0017302159685641527, 0.0015430811326950788, 0.03992646187543869, 0.05350593104958534, 0.07853256911039352, 5.796188997919671e-05, 0.08511562645435333, 0.12604312598705292],[0.17871135473251343, 0.037309981882572174, 0.0016552222659811378, 0.1625092625617981, 0.03456597402691841, 0.0025090870913118124, 0.0001605389843462035, 0.08175095170736313, 0.17871135473251343, 0.037309981882572174, 0.0016552222659811378, 0.1625092625617981, 0.03456597402691841, 0.0025090870913118124, 0.0001605389843462035, 0.08175095170736313],[0.06115665286779404, 0.05584966763854027, 0.031637661159038544, 0.06143270432949066, 0.23751339316368103, 0.045036450028419495, 0.0007268857443705201, 0.00664661917835474, 0.06115665286779404, 0.05584966763854027, 0.031637661159038544, 0.06143270432949066, 0.23751339316368103, 0.045036450028419495, 0.0007268857443705201, 0.00664661917835474],[0.0003809106710832566, 0.018795061856508255, 0.016592776402831078, 0.2318299263715744, 0.2318299263715744, 0.0003809106710832566, 0.018795061856508255, 0.016592776402831078, 0.2318299263715744, 0.2318299263715744],[0.03414525091648102, 0.03483074903488159, 0.1277020424604416, 0.01927008479833603, 0.006262532435357571, 0.071162648499012, 0.0006240908987820148, 0.024796459823846817, 0.046438027173280716, 0.10056015849113464, 0.03420797362923622, 0.03414525091648102, 0.03483074903488159, 0.1277020424604416, 0.01927008479833603, 0.006262532435357571, 0.071162648499012, 0.0006240908987820148, 0.024796459823846817, 0.046438027173280716, 0.10056015849113464, 0.03420797362923622]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>