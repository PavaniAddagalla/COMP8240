
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["jun jun","jun jun","apr apr","apr apr","apr apr","oct oct","oct oct","oct oct","oct oct","oct oct","trump interstate properties talks acquire alexanders trump interstate properties talks acquire alexanders","walgreen qtr shr cts cts walgreen qtr shr cts cts","rubbermaid inc qtr shr cts cts rubbermaid inc qtr shr cts cts","basin pipeline texas okla border washed floods bpd crude affected basin pipeline texas okla border washed floods bpd crude affected","whirlpool corp qtr shr cts cts whirlpool corp qtr shr cts cts","gte corp qtr shr cts cts gte corp qtr shr cts cts","ncr corp qtr shr cts cts ncr corp qtr shr cts cts","balladur urges respect pledges monetary policy louvre accord balladur urges respect pledges monetary policy louvre accord","stoltenberg says meeting baker underscored monetary cooperation stoltenberg says meeting baker underscored monetary cooperation","miyazawa says baker remarks aimed reaffirming louvre agreement miyazawa says baker remarks aimed reaffirming louvre agreement","stoltenberg says assumes monetary cooperation continue stoltenberg says assumes monetary cooperation continue","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","sumita welcomes west german joint confirmation louvre accord sumita welcomes west german joint confirmation louvre accord","pentagon says warships begin <unk> gulf tanker convoy south kuwait pentagon says warships begin <unk> gulf tanker convoy south kuwait","stoltenberg rule central bank intervention stabilize currencies stoltenberg rule central bank intervention stabilize currencies","circle express terminates planned acquisition overland express circle express terminates planned acquisition overland express","crazy eddie inc says oppose slate entertainment marketing crazy eddie inc says oppose slate entertainment marketing","miyazawa says still strongly supports louvre accord miyazawa says still strongly supports louvre accord","merrill lynch says proration factor supermarkets tender pct merrill lynch says proration factor supermarkets tender pct","shipping sources say unidentified jets raid iranian oil platforms southern gulf shipping sources say unidentified jets raid iranian oil platforms southern gulf","simon schuster acquire woodhead faulkner undisclosed terms simon schuster acquire woodhead faulkner undisclosed terms","greyhound lines agrees acquire remaining routes trailways corp greyhound lines agrees acquire remaining routes trailways corp","weinberger says forces attacked iranian oil platform weinberger says forces attacked iranian oil platform","thomson grand public takes thorn emi audiovisual division thomson thomson grand public takes thorn emi audiovisual division thomson","tecsyn international terminates takeover talks investor group tecsyn international terminates takeover talks investor group","barco directors approve buyout offer senior management barco directors approve buyout offer senior management","fed johnson says louvre accord alive cites german differences fed johnson says louvre accord alive cites german differences","robins says rorer group merger proposal merits consideration robins says rorer group merger proposal merits consideration","ford raises qtly payout cts shr cts ford raises qtly payout cts shr cts","hutton lbo inc said tender offer <unk> purolator courier expired hutton lbo inc said tender offer <unk> purolator courier expired","stoltenberg declines comment possible changed targets currencies stoltenberg declines comment possible changed targets currencies","hutton lbo inc says unit terminates merger agreement purolator courier hutton lbo inc says unit terminates merger agreement purolator courier","dominion textile calls report bid burlington rumor dominion textile calls report bid burlington rumor","atlantis group tells sec seeks negotiated purchase charter crellin atlantis group tells sec seeks negotiated purchase charter crellin","hicks haas group gets financing spectradyne acquisition hicks haas group gets financing spectradyne acquisition","henley group reviewing investment santa southern pacific henley group reviewing investment santa southern pacific","fed approves citicorp purchase assets sears calif thrift fed approves citicorp purchase assets sears calif thrift","fed sets overnight system repurchases fed says fed sets overnight system repurchases fed says","dart group said solicit proxies attempt acquire dayton hudson dart group said solicit proxies attempt acquire dayton hudson","nova corp says considering takeover bid dome petroleum nova corp says considering takeover bid dome petroleum"];
var att_heads = [0,0,5,5,5,0,0,0,0,0,1,0,0,7,0,0,0,2,4,4,7,8,4,1,1,4,2,1,4,1,4,8,2,1,8,8,2,8,0,8,8,8,8,8,7,4,2,8,8,8];
var trigram_weights = [[0.4842256009578705, 0.4842256009578705],[0.4842256009578705, 0.4842256009578705],[0.4761143922805786, 0.4761143922805786],[0.4761143922805786, 0.4761143922805786],[0.4761143922805786, 0.4761143922805786],[0.49683818221092224, 0.49683818221092224],[0.49683818221092224, 0.49683818221092224],[0.49683818221092224, 0.49683818221092224],[0.49683818221092224, 0.49683818221092224],[0.49683818221092224, 0.49683818221092224],[0.01538036298006773, 0.06694944202899933, 0.24212142825126648, 0.15720801055431366, 0.018245700746774673, 2.0487414431613615e-08, 0.01538036298006773, 0.06694944202899933, 0.24212142825126648, 0.15720801055431366, 0.018245700746774673, 2.0487414431613615e-08],[0.009426127187907696, 3.4448296446498716e-06, 0.0007025414961390197, 0.24490472674369812, 0.24490472674369812, 0.009426127187907696, 3.4448296446498716e-06, 0.0007025414961390197, 0.24490472674369812, 0.24490472674369812],[0.004023103043437004, 0.13437555730342865, 2.5393810574314557e-06, 0.0005178835708647966, 0.1805332899093628, 0.1805332899093628, 0.004023103043437004, 0.13437555730342865, 2.5393810574314557e-06, 0.0005178835708647966, 0.1805332899093628, 0.1805332899093628],[0.026052378118038177, 0.008245720528066158, 0.3036254048347473, 4.903889703200548e-07, 0.07228349894285202, 0.0006334347417578101, 0.05024217441678047, 0.007564500905573368, 0.01059669815003872, 0.020755697041749954, 0.026052378118038177, 0.008245720528066158, 0.3036254048347473, 4.903889703200548e-07, 0.07228349894285202, 0.0006334347417578101, 0.05024217441678047, 0.007564500905573368, 0.01059669815003872, 0.020755697041749954],[0.008267096243798733, 0.11503474414348602, 2.645399945322424e-06, 0.0005395051557570696, 0.18807053565979004, 0.18807053565979004, 0.008267096243798733, 0.11503474414348602, 2.645399945322424e-06, 0.0005395051557570696, 0.18807053565979004, 0.18807053565979004],[0.0005458762752823532, 0.11684101819992065, 2.6869379325944465e-06, 0.0005479764076881111, 0.19102361798286438, 0.19102361798286438, 0.0005458762752823532, 0.11684101819992065, 2.6869379325944465e-06, 0.0005479764076881111, 0.19102361798286438, 0.19102361798286438],[0.00037934500142000616, 0.11687998473644257, 2.6878340122493682e-06, 0.0005481591797433794, 0.19108732044696808, 0.19108732044696808, 0.00037934500142000616, 0.11687998473644257, 2.6878340122493682e-06, 0.0005481591797433794, 0.19108732044696808, 0.19108732044696808],[1.4367748008226044e-05, 0.008087794296443462, 0.020370682701468468, 0.16909760236740112, 0.08429606258869171, 0.1301264762878418, 0.00033424547291360795, 0.08747304230928421, 1.4367748008226044e-05, 0.008087794296443462, 0.020370682701468468, 0.16909760236740112, 0.08429606258869171, 0.1301264762878418, 0.00033424547291360795, 0.08747304230928421],[0.00030030522611923516, 0.29657530784606934, 0.032823558896780014, 0.1212170198559761, 0.00014126836322247982, 0.037984538823366165, 0.010957997292280197, 0.00030030522611923516, 0.29657530784606934, 0.032823558896780014, 0.1212170198559761, 0.00014126836322247982, 0.037984538823366165, 0.010957997292280197],[1.8329554904994438e-06, 0.28796061873435974, 0.11769600212574005, 0.003012938192114234, 0.03379614278674126, 0.0002003989357035607, 0.0001767179201124236, 0.05705076828598976, 1.8329554904994438e-06, 0.28796061873435974, 0.11769600212574005, 0.003012938192114234, 0.03379614278674126, 0.0002003989357035607, 0.0001767179201124236, 0.05705076828598976],[0.0002950145280919969, 0.3349209427833557, 0.04545561969280243, 0.04425230994820595, 0.011857260018587112, 0.06310582906007767, 0.0002950145280919969, 0.3349209427833557, 0.04545561969280243, 0.04425230994820595, 0.011857260018587112, 0.06310582906007767],[0.00013479501649271697, 0.08101284503936768, 0.014853105880320072, 0.0032627165783196688, 0.00028729281621053815, 0.013954275287687778, 0.3864949345588684, 0.00013479501649271697, 0.08101284503936768, 0.014853105880320072, 0.0032627165783196688, 0.00028729281621053815, 0.013954275287687778, 0.3864949345588684],[9.001069400937922e-08, 0.0007745405309833586, 0.2307872325181961, 0.1347641944885254, 0.09157220274209976, 0.005424212198704481, 0.00018084709881804883, 0.03638969734311104, 9.001069400937922e-08, 0.0007745405309833586, 0.2307872325181961, 0.1347641944885254, 0.09157220274209976, 0.005424212198704481, 0.00018084709881804883, 0.03638969734311104],[0.011215552687644958, 0.06240246444940567, 0.0043198177590966225, 0.2406643182039261, 7.639616342203226e-06, 0.013218151405453682, 0.0012905641924589872, 0.004092865157872438, 0.057446740567684174, 0.10534188896417618, 0.011215552687644958, 0.06240246444940567, 0.0043198177590966225, 0.2406643182039261, 7.639616342203226e-06, 0.013218151405453682, 0.0012905641924589872, 0.004092865157872438, 0.057446740567684174, 0.10534188896417618],[5.997312473482452e-05, 0.19031675159931183, 0.2736886739730835, 0.03414854407310486, 0.0010144308907911181, 1.733240242174361e-05, 0.0007543194224126637, 5.997312473482452e-05, 0.19031675159931183, 0.2736886739730835, 0.03414854407310486, 0.0010144308907911181, 1.733240242174361e-05, 0.0007543194224126637],[0.055204007774591446, 0.08004385977983475, 6.591609235329088e-06, 0.1823909878730774, 0.10095219314098358, 0.001358513836748898, 0.08004385977983475, 0.055204007774591446, 0.08004385977983475, 6.591609235329088e-06, 0.1823909878730774, 0.10095219314098358, 0.001358513836748898, 0.08004385977983475],[0.01093229092657566, 0.044434282928705215, 0.01115056499838829, 0.23549804091453552, 0.0018897062400355935, 0.006115426775068045, 0.05784161016345024, 0.13206778466701508, 0.01093229092657566, 0.044434282928705215, 0.01115056499838829, 0.23549804091453552, 0.0018897062400355935, 0.006115426775068045, 0.05784161016345024, 0.13206778466701508],[3.6296782468525635e-08, 0.17049066722393036, 0.2968876361846924, 0.0015451214276254177, 0.006064980290830135, 4.129831359023228e-05, 0.024970218539237976, 3.6296782468525635e-08, 0.17049066722393036, 0.2968876361846924, 0.0015451214276254177, 0.006064980290830135, 4.129831359023228e-05, 0.024970218539237976],[0.014162670820951462, 0.027884667739272118, 0.24419672787189484, 0.00017733660934027284, 0.005014513153582811, 0.06080780178308487, 0.0037129062693566084, 0.14395472407341003, 0.014162670820951462, 0.027884667739272118, 0.24419672787189484, 0.00017733660934027284, 0.005014513153582811, 0.06080780178308487, 0.0037129062693566084, 0.14395472407341003],[0.024417102336883545, 0.01534873154014349, 0.0779726430773735, 0.0009107848163694143, 0.09632579982280731, 0.035477057099342346, 0.019426796585321426, 0.03936342895030975, 0.0061546810902655125, 0.16103868186473846, 0.023564273491501808, 0.024417102336883545, 0.01534873154014349, 0.0779726430773735, 0.0009107848163694143, 0.09632579982280731, 0.035477057099342346, 0.019426796585321426, 0.03936342895030975, 0.0061546810902655125, 0.16103868186473846, 0.023564273491501808],[0.0591345839202404, 0.011453304439783096, 0.012962707318365574, 3.6634526168199955e-07, 3.836363248410635e-05, 0.004834370221942663, 0.4115763008594513, 0.0591345839202404, 0.011453304439783096, 0.012962707318365574, 3.6634526168199955e-07, 3.836363248410635e-05, 0.004834370221942663, 0.4115763008594513],[0.0007354402914643288, 0.24637749791145325, 0.010956423357129097, 0.009016256779432297, 0.14836947619915009, 0.013896690681576729, 4.615943680619239e-07, 0.07064773142337799, 0.0007354402914643288, 0.24637749791145325, 0.010956423357129097, 0.009016256779432297, 0.14836947619915009, 0.013896690681576729, 4.615943680619239e-07, 0.07064773142337799],[9.311980875281733e-07, 0.2062273770570755, 0.05201132595539093, 0.0185121838003397, 0.018453365191817284, 0.13531629741191864, 0.06935544312000275, 9.311980875281733e-07, 0.2062273770570755, 0.05201132595539093, 0.0185121838003397, 0.018453365191817284, 0.13531629741191864, 0.06935544312000275],[0.013519704341888428, 0.20357532799243927, 0.12186124175786972, 0.10073961317539215, 1.607744337661643e-07, 3.7899411836406216e-05, 5.44274826097535e-07, 0.046745844185352325, 0.013519704341888428, 0.013519704341888428, 0.20357532799243927, 0.12186124175786972, 0.10073961317539215, 1.607744337661643e-07, 3.7899411836406216e-05, 5.44274826097535e-07, 0.046745844185352325, 0.013519704341888428],[0.00013319503341335803, 0.23075777292251587, 4.510015969572123e-06, 0.015168197453022003, 0.00877477042376995, 0.016047507524490356, 0.22911401093006134, 0.00013319503341335803, 0.23075777292251587, 4.510015969572123e-06, 0.015168197453022003, 0.00877477042376995, 0.016047507524490356, 0.22911401093006134],[1.4706722595292376e-06, 0.026493078097701073, 0.035419635474681854, 0.01327322144061327, 0.1169559508562088, 0.12278006970882416, 0.18507660925388336, 1.4706722595292376e-06, 0.026493078097701073, 0.035419635474681854, 0.01327322144061327, 0.1169559508562088, 0.12278006970882416, 0.18507660925388336],[0.07789295166730881, 0.16362839937210083, 0.15068677067756653, 7.525379623984918e-05, 0.019694140180945396, 0.015493412502110004, 0.0028034269344061613, 0.06898077577352524, 0.000744858814869076, 0.07789295166730881, 0.16362839937210083, 0.15068677067756653, 7.525379623984918e-05, 0.019694140180945396, 0.015493412502110004, 0.0028034269344061613, 0.06898077577352524, 0.000744858814869076],[3.3463144063716754e-05, 0.19891218841075897, 2.7669628252624534e-05, 0.2261480689048767, 0.011511033400893211, 0.052858248353004456, 3.916192781616701e-06, 0.010439691133797169, 3.3463144063716754e-05, 0.19891218841075897, 2.7669628252624534e-05, 0.2261480689048767, 0.011511033400893211, 0.052858248353004456, 3.916192781616701e-06, 0.010439691133797169],[0.007709888741374016, 2.7550609047466423e-06, 3.9073656807886437e-05, 5.937397145316936e-05, 0.24574194848537445, 0.0007049432024359703, 0.24574194848537445, 0.007709888741374016, 2.7550609047466423e-06, 3.9073656807886437e-05, 5.937397145316936e-05, 0.24574194848537445, 0.0007049432024359703, 0.24574194848537445],[4.1810955735854805e-05, 1.4334214881728258e-07, 0.01051035150885582, 0.17553383111953735, 0.002999958349391818, 0.08309057354927063, 0.00013108403072692454, 3.068755177082494e-05, 0.029248300939798355, 0.1982821375131607, 4.1810955735854805e-05, 1.4334214881728258e-07, 0.01051035150885582, 0.17553383111953735, 0.002999958349391818, 0.08309057354927063, 0.00013108403072692454, 3.068755177082494e-05, 0.029248300939798355, 0.1982821375131607],[0.00013872298586647958, 0.06752961874008179, 0.003938223700970411, 0.03147247061133385, 0.2651318609714508, 0.12665891647338867, 0.0051302132196724415, 0.00013872298586647958, 0.06752961874008179, 0.003938223700970411, 0.03147247061133385, 0.2651318609714508, 0.12665891647338867, 0.0051302132196724415],[5.306699313223362e-05, 1.8193166795299476e-07, 0.013339877128601074, 0.25171932578086853, 0.13119904696941376, 5.6334502005483955e-06, 0.014566977508366108, 0.051788218319416046, 3.894906330970116e-05, 0.03712233155965805, 5.306699313223362e-05, 1.8193166795299476e-07, 0.013339877128601074, 0.25171932578086853, 0.13119904696941376, 5.6334502005483955e-06, 0.014566977508366108, 0.051788218319416046, 3.894906330970116e-05, 0.03712233155965805],[0.04255499318242073, 0.020274396985769272, 0.17124062776565552, 0.20261681079864502, 0.0613834485411644, 0.0019217301160097122, 7.999533409019932e-06, 0.04255499318242073, 0.020274396985769272, 0.17124062776565552, 0.20261681079864502, 0.0613834485411644, 0.0019217301160097122, 7.999533409019932e-06],[0.0002493613865226507, 0.1872072070837021, 0.01981521025300026, 0.02191191352903843, 0.009904209524393082, 0.004582167137414217, 0.09647170454263687, 0.1598581075668335, 9.735371975239104e-08, 0.0002493613865226507, 0.1872072070837021, 0.01981521025300026, 0.02191191352903843, 0.009904209524393082, 0.004582167137414217, 0.09647170454263687, 0.1598581075668335, 9.735371975239104e-08],[0.004557594191282988, 0.015699444338679314, 0.15130087733268738, 0.16343900561332703, 0.10811630636453629, 8.89426373760216e-05, 0.05679783597588539, 0.004557594191282988, 0.015699444338679314, 0.15130087733268738, 0.16343900561332703, 0.10811630636453629, 8.89426373760216e-05, 0.05679783597588539],[0.00019175490888301283, 0.16094030439853668, 0.0015566040528938174, 0.13881325721740723, 0.037031326442956924, 0.09622738510370255, 0.06523936986923218, 0.00019175490888301283, 0.16094030439853668, 0.0015566040528938174, 0.13881325721740723, 0.037031326442956924, 0.09622738510370255, 0.06523936986923218],[0.10867339372634888, 0.021639032289385796, 0.001554928021505475, 0.1199103370308876, 0.17645558714866638, 0.07058040052652359, 4.889400224783458e-05, 0.0010747164487838745, 0.10867339372634888, 0.021639032289385796, 0.001554928021505475, 0.1199103370308876, 0.17645558714866638, 0.07058040052652359, 4.889400224783458e-05, 0.0010747164487838745],[0.058084774762392044, 0.15507608652114868, 0.044745832681655884, 0.0722329169511795, 6.209733328432776e-06, 0.058084774762392044, 0.1117694079875946, 0.058084774762392044, 0.15507608652114868, 0.044745832681655884, 0.0722329169511795, 6.209733328432776e-06, 0.058084774762392044, 0.1117694079875946],[0.0010286151664331555, 0.1690477579832077, 0.1316002905368805, 3.464934343355708e-05, 2.1653784642694518e-05, 0.07413169741630554, 0.007537033408880234, 0.05413376912474632, 0.06246454268693924, 0.0010286151664331555, 0.1690477579832077, 0.1316002905368805, 3.464934343355708e-05, 2.1653784642694518e-05, 0.07413169741630554, 0.007537033408880234, 0.05413376912474632, 0.06246454268693924],[0.029111355543136597, 0.0703953206539154, 0.1772349625825882, 0.059949230402708054, 0.01334022544324398, 0.05155273526906967, 0.03767481818795204, 0.06068276986479759, 0.029111355543136597, 0.0703953206539154, 0.1772349625825882, 0.059949230402708054, 0.01334022544324398, 0.05155273526906967, 0.03767481818795204, 0.06068276986479759]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>