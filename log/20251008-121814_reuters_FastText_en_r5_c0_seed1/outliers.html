
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["jun jun","jun jun","apr apr","apr apr","apr apr","oct oct","oct oct","oct oct","oct oct","oct oct","circle express terminates planned acquisition overland express circle express terminates planned acquisition overland express","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","gencorp said agreement sell rko pictures terminated gencorp said agreement sell rko pictures terminated","stoltenberg declines comment possible changed targets currencies stoltenberg declines comment possible changed targets currencies","stifel financial said received unsolicited merger proposal stifel financial said received unsolicited merger proposal","stoltenberg rule central bank intervention stabilize currencies stoltenberg rule central bank intervention stabilize currencies","tecsyn international terminates takeover talks investor group tecsyn international terminates takeover talks investor group","stoltenberg says assumes monetary cooperation continue stoltenberg says assumes monetary cooperation continue","stoltenberg says meeting baker underscored monetary cooperation stoltenberg says meeting baker underscored monetary cooperation","miyazawa says still strongly supports louvre accord miyazawa says still strongly supports louvre accord","simon schuster acquire woodhead faulkner undisclosed terms simon schuster acquire woodhead faulkner undisclosed terms","miyazawa says baker remarks aimed reaffirming louvre agreement miyazawa says baker remarks aimed reaffirming louvre agreement","balladur urges respect pledges monetary policy louvre accord balladur urges respect pledges monetary policy louvre accord","fed sets overnight system repurchases fed says fed sets overnight system repurchases fed says","weinberger says forces attacked iranian oil platform weinberger says forces attacked iranian oil platform","basin pipeline texas okla border washed floods bpd crude affected basin pipeline texas okla border washed floods bpd crude affected","robins says rorer group merger proposal merits consideration robins says rorer group merger proposal merits consideration","trump interstate properties talks acquire alexanders trump interstate properties talks acquire alexanders","sumita welcomes west german joint confirmation louvre accord sumita welcomes west german joint confirmation louvre accord","viacom says federal court rejects request block planned merger viacom says federal court rejects request block planned merger","hutton lbo inc said tender offer <unk> purolator courier expired hutton lbo inc said tender offer <unk> purolator courier expired","fed approves citicorp purchase assets sears calif thrift fed approves citicorp purchase assets sears calif thrift","ibc acquisition gets shares tender buy pct ibc acquisition gets shares tender buy pct","barco directors approve buyout offer senior management barco directors approve buyout offer senior management","marked dollar fall would burden trade deficit stoltenberg marked dollar fall would burden trade deficit stoltenberg","fed seger says foreign exchange markets showing signs stability fed seger says foreign exchange markets showing signs stability","cadillac fairview says received acquisition proposals cadillac fairview says received acquisition proposals","industries says consider possible sale aerospace business industries says consider possible sale aerospace business","trans world airlines said carl icahn withdraws acquisition offer trans world airlines said carl icahn withdraws acquisition offer","hicks haas group gets financing spectradyne acquisition hicks haas group gets financing spectradyne acquisition","thomson grand public takes thorn emi audiovisual division thomson thomson grand public takes thorn emi audiovisual division thomson","telex corp investigate alternatives tlx partners bid may seek purchasers telex corp investigate alternatives tlx partners bid may seek purchasers","greyhound lines agrees acquire remaining routes trailways corp greyhound lines agrees acquire remaining routes trailways corp","ccr video <unk> received offer negotiate takeover intercep investment corp ccr video <unk> received offer negotiate takeover intercep investment corp","fed seger says thrift industry needs stable interest rates fed seger says thrift industry needs stable interest rates","north american communications weighs possible sale merger north american communications weighs possible sale merger","poehl says chances exchange rate stability good poehl says chances exchange rate stability good","bank japan intervening support dollar yen dealers bank japan intervening support dollar yen dealers","nakasone sumita agree discount rate cut appropriate central bank sources nakasone sumita agree discount rate cut appropriate central bank sources","boeing acquire argosystems dlrs share boeing acquire argosystems dlrs share"];
var att_heads = [4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,2];
var trigram_weights = [[0.4998233914375305, 0.4998233914375305],[0.4998233914375305, 0.4998233914375305],[0.4998839199542999, 0.4998839199542999],[0.4998839199542999, 0.4998839199542999],[0.4998839199542999, 0.4998839199542999],[0.4998939335346222, 0.4998939335346222],[0.4998939335346222, 0.4998939335346222],[0.4998939335346222, 0.4998939335346222],[0.4998939335346222, 0.4998939335346222],[0.4998939335346222, 0.4998939335346222],[0.025295786559581757, 0.07273999601602554, 0.02365414798259735, 0.2514662742614746, 0.0035449538845568895, 0.049791932106018066, 0.07273999601602554, 0.025295786559581757, 0.07273999601602554, 0.02365414798259735, 0.2514662742614746, 0.0035449538845568895, 0.049791932106018066, 0.07273999601602554],[0.001925711752846837, 0.04628802090883255, 0.13100679218769073, 0.0011980917770415545, 0.0011980917770415545, 0.07340623438358307, 0.24497710168361664, 0.001925711752846837, 0.04628802090883255, 0.13100679218769073, 0.0011980917770415545, 0.0011980917770415545, 0.07340623438358307, 0.24497710168361664],[0.001403117086738348, 0.01526625920087099, 0.05961419641971588, 0.04617428034543991, 0.001403117086738348, 0.09861228615045547, 0.27752676606178284, 0.001403117086738348, 0.01526625920087099, 0.05961419641971588, 0.04617428034543991, 0.001403117086738348, 0.09861228615045547, 0.27752676606178284],[0.000937538337893784, 0.03457916900515556, 0.0031260817777365446, 0.2370692491531372, 0.1869201958179474, 0.037192452698946, 0.00017529859906062484, 0.000937538337893784, 0.03457916900515556, 0.0031260817777365446, 0.2370692491531372, 0.1869201958179474, 0.037192452698946, 0.00017529859906062484],[0.001059307949617505, 0.12525132298469543, 0.011525530368089676, 0.15773622691631317, 0.07812907546758652, 0.026740726083517075, 0.09955782443284988, 0.001059307949617505, 0.12525132298469543, 0.011525530368089676, 0.15773622691631317, 0.07812907546758652, 0.026740726083517075, 0.09955782443284988],[0.0011086224112659693, 0.03650937229394913, 0.3606470227241516, 0.012242456898093224, 0.08144868165254593, 0.007836537435650826, 0.0002072873612632975, 0.0011086224112659693, 0.03650937229394913, 0.3606470227241516, 0.012242456898093224, 0.08144868165254593, 0.007836537435650826, 0.0002072873612632975],[0.0009732040925882757, 0.2254575788974762, 0.030017010867595673, 0.004064636304974556, 0.040254633873701096, 0.0001584034034749493, 0.19907455146312714, 0.0009732040925882757, 0.2254575788974762, 0.030017010867595673, 0.004064636304974556, 0.040254633873701096, 0.0001584034034749493, 0.19907455146312714],[0.0010335368569940329, 0.05270973592996597, 0.0706438422203064, 0.00710061052814126, 0.14327143132686615, 0.22472406923770905, 0.0010335368569940329, 0.05270973592996597, 0.0706438422203064, 0.00710061052814126, 0.14327143132686615, 0.22472406923770905],[0.0014142405707389116, 0.0721253976225853, 0.09799971431493759, 0.002403707941994071, 0.12029525637626648, 0.009716125205159187, 0.19604553282260895, 0.0014142405707389116, 0.0721253976225853, 0.09799971431493759, 0.002403707941994071, 0.12029525637626648, 0.009716125205159187, 0.19604553282260895],[0.0005166487535461783, 0.026348767802119255, 0.1875593513250351, 0.2333756685256958, 0.0393013097345829, 0.00014778446347918361, 0.012750529684126377, 0.0005166487535461783, 0.026348767802119255, 0.1875593513250351, 0.2333756685256958, 0.0393013097345829, 0.00014778446347918361, 0.012750529684126377],[7.584440027130768e-05, 0.0016425364883616567, 0.09482313692569733, 0.0016425364883616567, 0.0001865119847934693, 0.2872766852378845, 0.1143527403473854, 7.584440027130768e-05, 0.0016425364883616567, 0.09482313692569733, 0.0016425364883616567, 0.0001865119847934693, 0.2872766852378845, 0.1143527403473854],[0.001651133643463254, 0.08420678228139877, 0.0028063422068953514, 0.09145061671733856, 0.11898824572563171, 0.1294473558664322, 0.00047229742631316185, 0.0701516717672348, 0.001651133643463254, 0.08420678228139877, 0.0028063422068953514, 0.09145061671733856, 0.11898824572563171, 0.1294473558664322, 0.00047229742631316185, 0.0701516717672348],[0.001438322477042675, 0.09800060093402863, 0.16762611269950867, 0.08127247542142868, 0.009881571866571903, 0.10515353828668594, 0.0004114240873605013, 0.0354967936873436, 0.001438322477042675, 0.09800060093402863, 0.16762611269950867, 0.08127247542142868, 0.009881571866571903, 0.10515353828668594, 0.0004114240873605013, 0.0354967936873436],[0.07545032352209091, 0.18100397288799286, 0.12237031012773514, 0.013238904997706413, 2.341278332096408e-06, 0.07545032352209091, 0.03248382732272148, 0.07545032352209091, 0.18100397288799286, 0.12237031012773514, 0.013238904997706413, 2.341278332096408e-06, 0.07545032352209091, 0.03248382732272148],[0.0016011521220207214, 0.0816577672958374, 0.024662436917424202, 0.32994839549064636, 0.0004704167367890477, 0.04352714121341705, 0.01813267543911934, 0.0016011521220207214, 0.0816577672958374, 0.024662436917424202, 0.32994839549064636, 0.0004704167367890477, 0.04352714121341705, 0.01813267543911934],[0.017635229974985123, 0.02340797893702984, 0.000584604567848146, 0.0012136611621826887, 0.006429644767194986, 0.23566725850105286, 0.02341502346098423, 6.20107084614574e-06, 0.045067571103572845, 0.14535918831825256, 0.017635229974985123, 0.02340797893702984, 0.000584604567848146, 0.0012136611621826887, 0.006429644767194986, 0.23566725850105286, 0.02341502346098423, 6.20107084614574e-06, 0.045067571103572845, 0.14535918831825256],[0.004558648448437452, 0.027195999398827553, 0.0005332613363862038, 0.1090817078948021, 0.01346142590045929, 0.05011794716119766, 0.10743163526058197, 0.1873527616262436, 0.004558648448437452, 0.027195999398827553, 0.0005332613363862038, 0.1090817078948021, 0.01346142590045929, 0.05011794716119766, 0.10743163526058197, 0.1873527616262436],[0.11672550439834595, 0.14496715366840363, 0.07606911659240723, 0.06699248403310776, 0.09350039064884186, 0.0009355542133562267, 0.11672550439834595, 0.14496715366840363, 0.07606911659240723, 0.06699248403310776, 0.09350039064884186, 0.0009355542133562267],[0.0007571312016807497, 0.10296949744224548, 0.07060275971889496, 0.004230773542076349, 0.2670469284057617, 0.03511231020092964, 0.00021657311299350113, 0.018685467541217804, 0.0007571312016807497, 0.10296949744224548, 0.07060275971889496, 0.004230773542076349, 0.2670469284057617, 0.03511231020092964, 0.00021657311299350113, 0.018685467541217804],[0.0005447784205898643, 0.027783360332250595, 0.1194830909371376, 0.005711324047297239, 0.05956944450736046, 0.07767283916473389, 0.01685245707631111, 0.17863059043884277, 0.013752156868577003, 0.0005447784205898643, 0.027783360332250595, 0.1194830909371376, 0.005711324047297239, 0.05956944450736046, 0.07767283916473389, 0.01685245707631111, 0.17863059043884277, 0.013752156868577003],[9.964464697986841e-05, 0.000947011518292129, 0.001371854799799621, 0.010303717106580734, 0.058022718876600266, 0.19363801181316376, 0.000947011518292129, 0.000947011518292129, 0.012794041074812412, 0.22092898190021515, 9.964464697986841e-05, 0.000947011518292129, 0.001371854799799621, 0.010303717106580734, 0.058022718876600266, 0.19363801181316376, 0.000947011518292129, 0.000947011518292129, 0.012794041074812412, 0.22092898190021515],[0.05878601595759392, 0.00010976316116284579, 0.00018310443556401879, 0.018797822296619415, 0.24664495885372162, 0.04897855967283249, 0.0011454030172899365, 0.12526284158229828, 0.05878601595759392, 0.00010976316116284579, 0.00018310443556401879, 0.018797822296619415, 0.24664495885372162, 0.04897855967283249, 0.0011454030172899365, 0.12526284158229828],[0.00636250851675868, 0.030531184747815132, 0.0474843867123127, 0.05167228356003761, 0.002831648336723447, 0.008865419775247574, 0.3522525429725647, 0.00636250851675868, 0.030531184747815132, 0.0474843867123127, 0.05167228356003761, 0.002831648336723447, 0.008865419775247574, 0.3522525429725647],[7.283988816197962e-05, 0.012057328596711159, 0.02880007214844227, 0.00030641909688711166, 0.13434885442256927, 0.28021907806396484, 0.04419539496302605, 7.283988816197962e-05, 0.012057328596711159, 0.02880007214844227, 0.00030641909688711166, 0.13434885442256927, 0.28021907806396484, 0.04419539496302605],[0.31469491124153137, 0.0008501615957356989, 0.014377930201590061, 0.11740165948867798, 0.008372792974114418, 0.04091159254312515, 0.001297611161135137, 0.0013955599861219525, 0.31469491124153137, 0.0008501615957356989, 0.014377930201590061, 0.11740165948867798, 0.008372792974114418, 0.04091159254312515, 0.001297611161135137, 0.0013955599861219525],[0.08202431350946426, 0.000692442583385855, 0.03531414270401001, 0.19527286291122437, 0.02807042934000492, 0.0008800305658951402, 0.07929053902626038, 0.05507707968354225, 0.023378141224384308, 0.08202431350946426, 0.000692442583385855, 0.03531414270401001, 0.19527286291122437, 0.02807042934000492, 0.0008800305658951402, 0.07929053902626038, 0.05507707968354225, 0.023378141224384308],[0.00012680410873144865, 0.0018422874854877591, 0.09395551681518555, 0.27432578802108765, 0.008515775203704834, 0.12031269818544388, 0.00012680410873144865, 0.0018422874854877591, 0.09395551681518555, 0.27432578802108765, 0.008515775203704834, 0.12031269818544388],[0.0035583064891397953, 0.05185005068778992, 0.0979103371500969, 0.2570812702178955, 0.013524390757083893, 0.0020732844714075327, 0.07400234043598175, 0.0035583064891397953, 0.05185005068778992, 0.0979103371500969, 0.2570812702178955, 0.013524390757083893, 0.0020732844714075327, 0.07400234043598175],[0.047839902341365814, 0.028978915885090828, 0.00046777460374869406, 0.015134596265852451, 0.00018118417938239872, 0.0013910161796957254, 0.11515191942453384, 0.006429822184145451, 0.28442487120628357, 0.047839902341365814, 0.028978915885090828, 0.00046777460374869406, 0.015134596265852451, 0.00018118417938239872, 0.0013910161796957254, 0.11515191942453384, 0.006429822184145451, 0.28442487120628357],[0.00010393843695055693, 0.0001430874690413475, 0.33717435598373413, 0.13259458541870117, 0.020716501399874687, 0.0016483243089169264, 0.007619201671332121, 0.00010393843695055693, 0.0001430874690413475, 0.33717435598373413, 0.13259458541870117, 0.020716501399874687, 0.0016483243089169264, 0.007619201671332121],[0.0001660293637542054, 0.23264946043491364, 0.08856428414583206, 0.09372036159038544, 0.017056195065379143, 0.00014147517504170537, 0.04795798659324646, 0.01957816816866398, 0.0001660293637542054, 0.0001660293637542054, 0.23264946043491364, 0.08856428414583206, 0.09372036159038544, 0.017056195065379143, 0.00014147517504170537, 0.04795798659324646, 0.01957816816866398, 0.0001660293637542054],[0.007062065880745649, 0.0003341588017065078, 0.0985693410038948, 0.06307137757539749, 0.00016339939611498266, 0.03771510347723961, 0.02950907126069069, 0.1582682728767395, 0.10396154224872589, 0.0013456636806949973, 0.007062065880745649, 0.0003341588017065078, 0.0985693410038948, 0.06307137757539749, 0.00016339939611498266, 0.03771510347723961, 0.02950907126069069, 0.1582682728767395, 0.10396154224872589, 0.0013456636806949973],[0.004722080193459988, 0.0082443468272686, 0.020103050395846367, 0.017170550301671028, 0.4408184289932251, 0.008545611053705215, 0.00029743011691607535, 9.856414544628933e-05, 0.004722080193459988, 0.0082443468272686, 0.020103050395846367, 0.017170550301671028, 0.4408184289932251, 0.008545611053705215, 0.00029743011691607535, 9.856414544628933e-05],[0.00016992063319776207, 0.1111893430352211, 0.00016992063319776207, 0.0005544093437492847, 0.00951252318918705, 0.02840898185968399, 0.0016285490710288286, 0.00016992063319776207, 0.2636123299598694, 0.08458411693572998, 0.00016992063319776207, 0.1111893430352211, 0.00016992063319776207, 0.0005544093437492847, 0.00951252318918705, 0.02840898185968399, 0.0016285490710288286, 0.00016992063319776207, 0.2636123299598694, 0.08458411693572998],[0.09382129460573196, 0.0007920317584648728, 0.040393128991127014, 0.012258302420377731, 0.007874433882534504, 0.11597416549921036, 0.15531015396118164, 0.07043133676052094, 0.003145144786685705, 0.09382129460573196, 0.0007920317584648728, 0.040393128991127014, 0.012258302420377731, 0.007874433882534504, 0.11597416549921036, 0.15531015396118164, 0.07043133676052094, 0.003145144786685705],[0.1238410696387291, 0.010391393676400185, 0.10209404677152634, 0.03447170928120613, 0.19820402562618256, 0.010427008382976055, 0.019786877557635307, 0.1238410696387291, 0.010391393676400185, 0.10209404677152634, 0.03447170928120613, 0.19820402562618256, 0.010427008382976055, 0.019786877557635307],[0.0009329340537078679, 0.04757905378937721, 0.07722730934619904, 0.03781953826546669, 0.0043858191929757595, 0.03149757906794548, 0.3005577623844147, 0.0009329340537078679, 0.04757905378937721, 0.07722730934619904, 0.03781953826546669, 0.0043858191929757595, 0.03149757906794548, 0.3005577623844147],[0.0062856548465788364, 0.00024796504294499755, 0.44284242391586304, 0.04808172956109047, 0.0003467516216915101, 5.795589095214382e-05, 0.0021375117357820272, 0.0062856548465788364, 0.00024796504294499755, 0.44284242391586304, 0.04808172956109047, 0.0003467516216915101, 5.795589095214382e-05, 0.0021375117357820272],[0.0005977260880172253, 0.0005977260880172253, 0.025644343346357346, 0.025165226310491562, 0.0028099720366299152, 0.055527009069919586, 0.1790739744901657, 0.1944468468427658, 0.006600656546652317, 0.009536510333418846, 0.0005977260880172253, 0.0005977260880172253, 0.025644343346357346, 0.025165226310491562, 0.0028099720366299152, 0.055527009069919586, 0.1790739744901657, 0.1944468468427658, 0.006600656546652317, 0.009536510333418846],[0.03733411431312561, 0.00019368949870113283, 0.0015658909687772393, 0.4584718346595764, 8.561916911276057e-05, 0.03733411431312561, 0.00019368949870113283, 0.0015658909687772393, 0.4584718346595764, 8.561916911276057e-05]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>