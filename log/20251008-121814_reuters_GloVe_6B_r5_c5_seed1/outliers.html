
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["jun jun","jun jun","apr apr","apr apr","apr apr","oct oct","oct oct","oct oct","oct oct","oct oct","walgreen qtr shr cts cts walgreen qtr shr cts cts","rubbermaid inc qtr shr cts cts rubbermaid inc qtr shr cts cts","whirlpool corp qtr shr cts cts whirlpool corp qtr shr cts cts","gte corp qtr shr cts cts gte corp qtr shr cts cts","ncr corp qtr shr cts cts ncr corp qtr shr cts cts","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","trump interstate properties talks acquire alexanders trump interstate properties talks acquire alexanders","mead corp qtr oper shr dlrs cts mead corp qtr oper shr dlrs cts","basin pipeline texas okla border washed floods bpd crude affected basin pipeline texas okla border washed floods bpd crude affected","westinghouse electric corp qtr shr dlrs cts westinghouse electric corp qtr shr dlrs cts","simon schuster acquire woodhead faulkner undisclosed terms simon schuster acquire woodhead faulkner undisclosed terms","sumita welcomes west german joint confirmation louvre accord sumita welcomes west german joint confirmation louvre accord","raytheon qtr shr dlrs dlrs raytheon qtr shr dlrs dlrs","shipping sources say unidentified jets raid iranian oil platforms southern gulf shipping sources say unidentified jets raid iranian oil platforms southern gulf","circle express terminates planned acquisition overland express circle express terminates planned acquisition overland express","abbott laboratories qtr net shr cts cts abbott laboratories qtr net shr cts cts","tecsyn international terminates takeover talks investor group tecsyn international terminates takeover talks investor group","roto rooter inc roto qtr net shr cts cts net revs mln","boeing acquire argosystems dlrs share boeing acquire argosystems dlrs share","greyhound lines agrees acquire remaining routes trailways corp greyhound lines agrees acquire remaining routes trailways corp","henley group reviewing investment santa southern pacific henley group reviewing investment santa southern pacific","crazy eddie inc says oppose slate entertainment marketing crazy eddie inc says oppose slate entertainment marketing","thomson grand public takes thorn emi audiovisual division thomson thomson grand public takes thorn emi audiovisual division thomson","wells fargo qtr shr dlrs dlrs wells fargo qtr shr dlrs dlrs","weinberger says forces attacked iranian oil platform weinberger says forces attacked iranian oil platform","<unk> corp <unk> qtr mar shr cts cts net revs mln mln","rio tinto zinc corp plc pretax profit mln stg mln rio tinto zinc corp plc pretax profit mln stg mln","telex corp investigate alternatives tlx partners bid may seek purchasers telex corp investigate alternatives tlx partners bid may seek purchasers","united telecommunications inc qtr shr cts cts united telecommunications inc qtr shr cts cts","barco directors approve buyout offer senior management barco directors approve buyout offer senior management","<unk> acquire prince mln dlrs <unk> acquire prince mln dlrs","morgan inc qtr shr dlrs dlrs morgan inc qtr shr dlrs dlrs","napa valley bancorp <unk> qtr net shr cts cts net","pentagon says warships begin <unk> gulf tanker convoy south kuwait pentagon says warships begin <unk> gulf tanker convoy south kuwait","bancorp <unk> qtr net shr cts cts net mln mln avg shrs mln mln","<unk> microsystems inc <unk> qtr loss shr loss cts loss cts net loss loss revs avg shrs","<unk> corp ohio <unk> qtr net shr cts cts net","tandy corp <unk> qtr sept net shr cts cts net mln mln revs mln mln avg shrs mln mln","<unk> corp <unk> qtr net shr cts cts net mln mln revs mln mln","<unk> corp <unk> qtr sept net shr cts cts net revs mln mln avg shrs mln mln"];
var att_heads = [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,0,3,0,4,0,0,4,0,0,4,0,4,4,4,2,0,0,2,0,4,4,0,0,0,4,2,4,0,4,4,4,4,4,4];
var trigram_weights = [[0.4847750663757324, 0.4847750663757324],[0.4847750663757324, 0.4847750663757324],[0.49982184171676636, 0.49982184171676636],[0.49982184171676636, 0.49982184171676636],[0.49982184171676636, 0.49982184171676636],[0.4996736943721771, 0.4996736943721771],[0.4996736943721771, 0.4996736943721771],[0.4996736943721771, 0.4996736943721771],[0.4996736943721771, 0.4996736943721771],[0.4996736943721771, 0.4996736943721771],[0.00015830596385058016, 0.4318113327026367, 0.055202752351760864, 0.0063674552366137505, 0.0063674552366137505, 0.00015830596385058016, 0.4318113327026367, 0.055202752351760864, 0.0063674552366137505, 0.0063674552366137505],[0.005690895952284336, 0.0010632870253175497, 0.4261658787727356, 0.054481036961078644, 0.006284207571297884, 0.006284207571297884, 0.005690895952284336, 0.0010632870253175497, 0.4261658787727356, 0.054481036961078644, 0.006284207571297884, 0.006284207571297884],[0.000948976434301585, 0.01285137515515089, 0.42007797956466675, 0.053702764213085175, 0.006194436457008123, 0.006194436457008123, 0.000948976434301585, 0.01285137515515089, 0.42007797956466675, 0.053702764213085175, 0.006194436457008123, 0.006194436457008123],[0.0003619230119511485, 0.0128664905205369, 0.42057207226753235, 0.053765926510095596, 0.00620172219350934, 0.00620172219350934, 0.0003619230119511485, 0.0128664905205369, 0.42057207226753235, 0.053765926510095596, 0.00620172219350934, 0.00620172219350934],[0.014513233676552773, 0.01250207144767046, 0.4086601734161377, 0.052243106067180634, 0.006026070099323988, 0.006026070099323988, 0.014513233676552773, 0.01250207144767046, 0.4086601734161377, 0.052243106067180634, 0.006026070099323988, 0.006026070099323988],[0.004712982103228569, 0.003517812816426158, 0.18801915645599365, 0.007987950928509235, 0.000981794437393546, 0.06279972940683365, 0.2319805771112442, 0.004712982103228569, 0.003517812816426158, 0.18801915645599365, 0.007987950928509235, 0.000981794437393546, 0.06279972940683365, 0.2319805771112442],[0.0006345792207866907, 0.0038115570787340403, 0.0006626784452237189, 0.4943859875202179, 0.00014197859854903072, 1.9072336954195634e-06, 0.0006345792207866907, 0.0038115570787340403, 0.0006626784452237189, 0.4943859875202179, 0.00014197859854903072, 1.9072336954195634e-06],[5.1903800340369344e-05, 0.01302735973149538, 0.4258304536342621, 0.00035004725214093924, 0.05443815886974335, 2.2761820218875073e-05, 0.0062792617827653885, 5.1903800340369344e-05, 0.01302735973149538, 0.4258304536342621, 0.00035004725214093924, 0.05443815886974335, 2.2761820218875073e-05, 0.0062792617827653885],[0.00116542458999902, 0.006156811490654945, 0.2259880155324936, 0.00015870426432229578, 0.2430294305086136, 0.0005981382564641535, 0.003359008813276887, 0.0001738497376209125, 0.0002441424585413188, 0.019126487895846367, 0.00116542458999902, 0.006156811490654945, 0.2259880155324936, 0.00015870426432229578, 0.2430294305086136, 0.0005981382564641535, 0.003359008813276887, 0.0001738497376209125, 0.0002441424585413188, 0.019126487895846367],[0.0382867269217968, 0.23147977888584137, 0.005802362225949764, 0.1562158465385437, 0.014996794983744621, 0.02398308552801609, 0.02923540584743023, 0.0382867269217968, 0.23147977888584137, 0.005802362225949764, 0.1562158465385437, 0.014996794983744621, 0.02398308552801609, 0.02923540584743023],[0.2210884988307953, 0.014264749363064766, 0.0003708854201249778, 0.0002951172646135092, 0.03392164036631584, 0.0013067835243418813, 0.2268642783164978, 0.2210884988307953, 0.014264749363064766, 0.0003708854201249778, 0.0002951172646135092, 0.03392164036631584, 0.0013067835243418813, 0.2268642783164978],[1.1833284588647075e-05, 0.0144768375903368, 0.10195541381835938, 0.08210694789886475, 0.160207599401474, 0.007473475765436888, 0.0005870374152436852, 0.132284015417099, 1.1833284588647075e-05, 0.0144768375903368, 0.10195541381835938, 0.08210694789886475, 0.160207599401474, 0.007473475765436888, 0.0005870374152436852, 0.132284015417099],[0.10308897495269775, 0.2793332040309906, 0.026816116645932198, 0.042884711176157, 0.042884711176157, 0.10308897495269775, 0.2793332040309906, 0.026816116645932198, 0.042884711176157, 0.042884711176157],[0.002997972071170807, 0.08403130620718002, 0.14523206651210785, 0.001110984943807125, 0.028374195098876953, 0.013478216715157032, 0.018289823085069656, 0.0014792712172493339, 0.0008910730248317122, 0.20116573572158813, 0.002682310529053211, 0.002997972071170807, 0.08403130620718002, 0.14523206651210785, 0.001110984943807125, 0.028374195098876953, 0.013478216715157032, 0.018289823085069656, 0.0014792712172493339, 0.0008910730248317122, 0.20116573572158813, 0.002682310529053211],[0.03071047179400921, 0.01854335144162178, 0.0014225025661289692, 0.4290933310985565, 0.001414140104316175, 0.0002728925319388509, 0.01854335144162178, 0.03071047179400921, 0.01854335144162178, 0.0014225025661289692, 0.4290933310985565, 0.001414140104316175, 0.0002728925319388509, 0.01854335144162178],[0.0012014104286208749, 0.013087454251945019, 0.2174137830734253, 0.16604870557785034, 0.020871823653578758, 0.04068843647837639, 0.04068843647837639, 0.0012014104286208749, 0.013087454251945019, 0.2174137830734253, 0.16604870557785034, 0.020871823653578758, 0.04068843647837639, 0.04068843647837639],[0.000602724845521152, 0.02767457626760006, 0.0010651740012690425, 0.0005078342510387301, 0.41228607296943665, 0.0020222458988428116, 0.05584137141704559, 0.000602724845521152, 0.02767457626760006, 0.0010651740012690425, 0.0005078342510387301, 0.41228607296943665, 0.0020222458988428116, 0.05584137141704559],[0.0020881551317870617, 0.008489208295941353, 0.019170546904206276, 0.0020881551317870617, 0.2570343315601349, 0.1963086873292923, 0.024675413966178894, 0.048103321343660355, 0.048103321343660355, 0.1963086873292923, 0.04312950372695923, 0.15143811702728271],[0.24630551040172577, 0.06823842227458954, 0.0017349730478599668, 0.022355718538165092, 0.1587628871202469, 0.24630551040172577, 0.06823842227458954, 0.0017349730478599668, 0.022355718538165092, 0.1587628871202469],[0.0024807967711240053, 0.09646397829055786, 0.11636590212583542, 0.09044848382472992, 0.00807436928153038, 0.1770368218421936, 0.00081077084178105, 0.007169036194682121, 0.0024807967711240053, 0.09646397829055786, 0.11636590212583542, 0.09044848382472992, 0.00807436928153038, 0.1770368218421936, 0.00081077084178105, 0.007169036194682121],[0.008528849110007286, 0.01820480450987816, 0.003789039794355631, 0.46086832880973816, 0.002830339130014181, 0.002351335948333144, 0.0034273292403668165, 0.008528849110007286, 0.01820480450987816, 0.003789039794355631, 0.46086832880973816, 0.002830339130014181, 0.002351335948333144, 0.0034273292403668165],[0.03803491219878197, 0.05171988159418106, 8.749355038162321e-05, 0.3445886969566345, 0.008030183613300323, 0.0018761412939056754, 0.04125997796654701, 0.014221983961760998, 0.03803491219878197, 0.05171988159418106, 8.749355038162321e-05, 0.3445886969566345, 0.008030183613300323, 0.0018761412939056754, 0.04125997796654701, 0.014221983961760998],[0.0009737362270243466, 0.0884927436709404, 0.15131860971450806, 0.24628260731697083, 0.00021985168859828264, 0.0006928335642442107, 1.1811143849627115e-05, 0.011034127324819565, 0.0009737362270243466, 0.0009737362270243466, 0.0884927436709404, 0.15131860971450806, 0.24628260731697083, 0.00021985168859828264, 0.0006928335642442107, 1.1811143849627115e-05, 0.011034127324819565, 0.0009737362270243466],[0.1589542180299759, 0.30545666813850403, 0.0005759306950494647, 7.759050640743226e-05, 0.0173773355782032, 0.0173773355782032, 0.1589542180299759, 0.30545666813850403, 0.0005759306950494647, 7.759050640743226e-05, 0.0173773355782032, 0.0173773355782032],[0.00013700168346986175, 0.302428662776947, 0.1445104479789734, 0.02996891550719738, 0.010865109041333199, 0.0008787637343630195, 0.011211113072931767, 0.00013700168346986175, 0.302428662776947, 0.1445104479789734, 0.02996891550719738, 0.010865109041333199, 0.0008787637343630195, 0.011211113072931767],[0.0032591354101896286, 0.010160104371607304, 0.0032591354101896286, 0.2735384702682495, 0.000743645359762013, 0.02625982090830803, 0.0511920340359211, 0.0511920340359211, 0.2089136689901352, 0.04589884728193283, 0.16116194427013397, 0.16116194427013397],[0.0006426976178772748, 0.008011401630938053, 0.007484327536076307, 0.0043084281496703625, 0.016674954444169998, 0.13239702582359314, 0.18934665620326996, 0.06834129989147186, 0.0044519295915961266, 0.06834129989147186, 0.0006426976178772748, 0.008011401630938053, 0.007484327536076307, 0.0043084281496703625, 0.016674954444169998, 0.13239702582359314, 0.18934665620326996, 0.06834129989147186, 0.0044519295915961266, 0.06834129989147186],[2.7652463359117974e-06, 9.417282126378268e-05, 0.03128824755549431, 0.024312235414981842, 0.0010344558395445347, 0.03300529718399048, 0.016416899859905243, 0.3593243360519409, 0.034462857991456985, 5.872157635167241e-05, 2.7652463359117974e-06, 9.417282126378268e-05, 0.03128824755549431, 0.024312235414981842, 0.0010344558395445347, 0.03300529718399048, 0.016416899859905243, 0.3593243360519409, 0.034462857991456985, 5.872157635167241e-05],[0.49042999744415283, 0.008889409713447094, 0.00031491616391576827, 1.5520574379479513e-05, 1.4334771549329162e-05, 0.00016788640641607344, 0.00016788640641607344, 0.49042999744415283, 0.008889409713447094, 0.00031491616391576827, 1.5520574379479513e-05, 1.4334771549329162e-05, 0.00016788640641607344, 0.00016788640641607344],[7.878749602241442e-05, 0.04645518958568573, 0.0066434890031814575, 0.00016513740411028266, 0.16644269227981567, 0.2267734557390213, 0.05344120040535927, 7.878749602241442e-05, 0.04645518958568573, 0.0066434890031814575, 0.00016513740411028266, 0.16644269227981567, 0.2267734557390213, 0.05344120040535927],[0.004787391982972622, 0.18829345703125, 0.0013177201617509127, 0.23673318326473236, 0.06168718636035919, 0.004787391982972622, 0.18829345703125, 0.0013177201617509127, 0.23673318326473236, 0.06168718636035919],[0.2545168399810791, 0.0069402349181473255, 0.0038602871354669333, 0.0005200650775805116, 0.116474948823452, 0.116474948823452, 0.2545168399810791, 0.0069402349181473255, 0.0038602871354669333, 0.0005200650775805116, 0.116474948823452, 0.116474948823452],[0.008082440122961998, 0.0030004295986145735, 0.0005786640103906393, 0.0038666867185384035, 0.32453012466430664, 0.24785828590393066, 0.031155042350292206, 0.06073499098420143, 0.06073499098420143, 0.24785828590393066],[0.00614579301327467, 0.20676080882549286, 0.00021990867389831692, 0.1866145133972168, 0.00021687609842047095, 0.0010893781436607242, 0.00018958983127959073, 0.0009375044610351324, 0.09212423861026764, 0.005484512075781822, 0.00614579301327467, 0.20676080882549286, 0.00021990867389831692, 0.1866145133972168, 0.00021687609842047095, 0.0010893781436607242, 0.00018958983127959073, 0.0009375044610351324, 0.09212423861026764, 0.005484512075781822],[0.0003115705621894449, 0.00208194344304502, 0.17473703622817993, 0.13345454633235931, 0.01677483692765236, 0.03270159289240837, 0.03270159289240837, 0.13345454633235931, 0.10295064002275467, 0.10295064002275467, 0.059897810220718384, 0.00208194344304502, 0.10295064002275467, 0.10295064002275467],[0.0026296686846762896, 0.046590425074100494, 0.01646116003394127, 0.0026296686846762896, 0.2207074910402298, 0.06466001272201538, 0.021188020706176758, 0.06466001272201538, 0.041304849088191986, 0.06466001272201538, 0.041304849088191986, 0.16856426000595093, 0.06466001272201538, 0.06466001272201538, 0.03703398257493973, 0.07565594464540482, 0.0026296686846762896],[0.003838809672743082, 0.011967193335294724, 0.0029810115229338408, 0.003838809672743082, 0.32219040393829346, 0.24607133865356445, 0.030930427834391594, 0.06029711663722992, 0.06029711663722992, 0.24607133865356445],[0.00012770324246957898, 0.00511509645730257, 0.0016408091178163886, 0.1377127319574356, 0.019866354763507843, 0.10517741739749908, 0.013220486231148243, 0.025772588327527046, 0.025772588327527046, 0.10517741739749908, 0.08113685250282288, 0.08113685250282288, 0.02310773730278015, 0.08113685250282288, 0.08113685250282288, 0.04720630869269371, 0.0016408091178163886, 0.08113685250282288, 0.08113685250282288],[0.002134010661393404, 0.00665261410176754, 0.002134010661393404, 0.17910702526569366, 0.1367921084165573, 0.01719435676932335, 0.033519428223371506, 0.033519428223371506, 0.1367921084165573, 0.10552532970905304, 0.10552532970905304, 0.03005356341600418, 0.10552532970905304, 0.10552532970905304],[0.0019551145378500223, 0.006094919517636299, 0.0019551145378500223, 0.1640923172235489, 0.02367185801267624, 0.12532469630241394, 0.015752937644720078, 0.030709462240338326, 0.030709462240338326, 0.12532469630241394, 0.02753414399921894, 0.09667903929948807, 0.09667903929948807, 0.056248921900987625, 0.0019551145378500223, 0.09667903929948807, 0.09667903929948807]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>