
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["jun jun","jun jun","apr apr","apr apr","apr apr","oct oct","oct oct","oct oct","oct oct","oct oct","raytheon qtr shr dlrs dlrs raytheon qtr shr dlrs dlrs","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","walgreen qtr shr cts cts walgreen qtr shr cts cts","circle express terminates planned acquisition overland express circle express terminates planned acquisition overland express","miyazawa says still strongly supports louvre accord miyazawa says still strongly supports louvre accord","stifel financial said received unsolicited merger proposal stifel financial said received unsolicited merger proposal","stoltenberg says assumes monetary cooperation continue stoltenberg says assumes monetary cooperation continue","boeing acquire argosystems dlrs share boeing acquire argosystems dlrs share","basin pipeline texas okla border washed floods bpd crude affected basin pipeline texas okla border washed floods bpd crude affected","tecsyn international terminates takeover talks investor group tecsyn international terminates takeover talks investor group","stoltenberg declines comment possible changed targets currencies stoltenberg declines comment possible changed targets currencies","simon schuster acquire woodhead faulkner undisclosed terms simon schuster acquire woodhead faulkner undisclosed terms","trump interstate properties talks acquire alexanders trump interstate properties talks acquire alexanders","gencorp said agreement sell rko pictures terminated gencorp said agreement sell rko pictures terminated","stoltenberg rule central bank intervention stabilize currencies stoltenberg rule central bank intervention stabilize currencies","miyazawa says baker remarks aimed reaffirming louvre agreement miyazawa says baker remarks aimed reaffirming louvre agreement","wells fargo qtr shr dlrs dlrs wells fargo qtr shr dlrs dlrs","balladur urges respect pledges monetary policy louvre accord balladur urges respect pledges monetary policy louvre accord","rubbermaid inc qtr shr cts cts rubbermaid inc qtr shr cts cts","fed sets overnight system repurchases fed says fed sets overnight system repurchases fed says","morgan inc qtr shr dlrs dlrs morgan inc qtr shr dlrs dlrs","stoltenberg says meeting baker underscored monetary cooperation stoltenberg says meeting baker underscored monetary cooperation","ibc acquisition gets shares tender buy pct ibc acquisition gets shares tender buy pct","hutton lbo inc said tender offer <unk> purolator courier expired hutton lbo inc said tender offer <unk> purolator courier expired","fed approves citicorp purchase assets sears calif thrift fed approves citicorp purchase assets sears calif thrift","weinberger says forces attacked iranian oil platform weinberger says forces attacked iranian oil platform","<unk> acquire prince mln dlrs <unk> acquire prince mln dlrs","sumita welcomes west german joint confirmation louvre accord sumita welcomes west german joint confirmation louvre accord","corby distilleries ltd buy heublein <unk> distillers mln canadian dlrs corby distilleries ltd buy heublein <unk> distillers mln canadian dlrs","barco directors approve buyout offer senior management barco directors approve buyout offer senior management","viacom says federal court rejects request block planned merger viacom says federal court rejects request block planned merger","cadillac fairview says received acquisition proposals cadillac fairview says received acquisition proposals","usair buy pct mln piedmont shares tendered usair buy pct mln piedmont shares tendered","ncr corp qtr shr cts cts ncr corp qtr shr cts cts","hicks haas group gets financing spectradyne acquisition hicks haas group gets financing spectradyne acquisition","gte corp qtr shr cts cts gte corp qtr shr cts cts","pentagon says warships begin <unk> gulf tanker convoy south kuwait pentagon says warships begin <unk> gulf tanker convoy south kuwait","fed johnson says louvre accord alive cites german differences fed johnson says louvre accord alive cites german differences","thomson grand public takes thorn emi audiovisual division thomson thomson grand public takes thorn emi audiovisual division thomson","cable wireless merge two units new telecommunication operation cable wireless merge two units new telecommunication operation"];
var att_heads = [7,7,7,7,7,7,7,7,7,7,5,9,0,9,9,9,9,5,7,9,9,1,4,9,9,9,5,9,0,9,5,9,8,7,7,9,5,9,5,9,9,4,5,0,8,0,6,7,6,9];
var trigram_weights = [[0.20731480419635773, 0.20731480419635773],[0.20731480419635773, 0.20731480419635773],[0.25947436690330505, 0.25947436690330505],[0.25947436690330505, 0.25947436690330505],[0.25947436690330505, 0.25947436690330505],[0.26219552755355835, 0.26219552755355835],[0.26219552755355835, 0.26219552755355835],[0.26219552755355835, 0.26219552755355835],[0.26219552755355835, 0.26219552755355835],[0.26219552755355835, 0.26219552755355835],[0.002063250169157982, 0.012347388081252575, 0.013966680504381657, 0.23426389694213867, 0.23426389694213867, 0.002063250169157982, 0.012347388081252575, 0.013966680504381657, 0.23426389694213867, 0.23426389694213867],[0.08613156527280807, 0.18037667870521545, 0.06517698615789413, 0.020630083978176117, 0.020630083978176117, 0.0448467843234539, 0.08220785111188889, 0.08613156527280807, 0.18037667870521545, 0.06517698615789413, 0.020630083978176117, 0.020630083978176117, 0.0448467843234539, 0.08220785111188889],[1.535448791400995e-05, 0.0005431222380138934, 0.0018278156640008092, 0.2487953156232834, 0.2487953156232834, 1.535448791400995e-05, 0.0005431222380138934, 0.0018278156640008092, 0.2487953156232834, 0.2487953156232834],[0.09507288038730621, 0.08525266498327255, 0.0556667298078537, 0.05801744759082794, 0.06224789097905159, 0.05848971754312515, 0.08525266498327255, 0.09507288038730621, 0.08525266498327255, 0.0556667298078537, 0.05801744759082794, 0.06224789097905159, 0.05848971754312515, 0.08525266498327255],[0.019335484132170677, 0.1653059870004654, 0.09904374182224274, 0.03883599117398262, 0.09992727637290955, 0.05268863961100578, 0.02486288920044899, 0.019335484132170677, 0.1653059870004654, 0.09904374182224274, 0.03883599117398262, 0.09992727637290955, 0.05268863961100578, 0.02486288920044899],[0.01634407229721546, 0.13039472699165344, 0.08275623619556427, 0.05380920693278313, 0.04830711707472801, 0.054217010736465454, 0.09782756865024567, 0.01634407229721546, 0.13039472699165344, 0.08275623619556427, 0.05380920693278313, 0.04830711707472801, 0.054217010736465454, 0.09782756865024567],[0.01879587024450302, 0.16069263219833374, 0.09921696782112122, 0.11974361538887024, 0.03040708787739277, 0.06174589693546295, 0.01879587024450302, 0.16069263219833374, 0.09921696782112122, 0.11974361538887024, 0.03040708787739277, 0.06174589693546295],[0.09882751107215881, 0.0002462281263433397, 0.003453242825344205, 0.39208534359931946, 0.0002078175893984735, 0.09882751107215881, 0.0002462281263433397, 0.003453242825344205, 0.39208534359931946, 0.0002078175893984735],[0.0474214106798172, 0.08857211470603943, 0.061342790722846985, 0.016924425959587097, 0.07801496982574463, 0.03819875791668892, 0.04927334189414978, 0.018656279891729355, 0.08029473572969437, 0.021301185712218285, 0.0474214106798172, 0.08857211470603943, 0.061342790722846985, 0.016924425959587097, 0.07801496982574463, 0.03819875791668892, 0.04927334189414978, 0.018656279891729355, 0.08029473572969437, 0.021301185712218285],[0.013771549798548222, 0.13848836719989777, 0.05283406749367714, 0.043846163898706436, 0.02437131479382515, 0.037230100482702255, 0.18945841491222382, 0.013771549798548222, 0.13848836719989777, 0.05283406749367714, 0.043846163898706436, 0.02437131479382515, 0.037230100482702255, 0.18945841491222382],[0.01812237687408924, 0.04440819099545479, 0.08108661323785782, 0.10696372389793396, 0.08278873562812805, 0.119423046708107, 0.04720732197165489, 0.01812237687408924, 0.04440819099545479, 0.08108661323785782, 0.10696372389793396, 0.08278873562812805, 0.119423046708107, 0.04720732197165489],[0.07131864130496979, 0.021869659423828125, 0.06955944001674652, 0.021869659423828125, 0.04869041219353676, 0.09706410765647888, 0.1696280837059021, 0.07131864130496979, 0.021869659423828125, 0.06955944001674652, 0.021869659423828125, 0.04869041219353676, 0.09706410765647888, 0.1696280837059021],[0.0970759391784668, 0.08475720137357712, 0.12723064422607422, 0.03797867149114609, 0.0780610740184784, 0.063237763941288, 0.0970759391784668, 0.08475720137357712, 0.12723064422607422, 0.03797867149114609, 0.0780610740184784, 0.063237763941288],[0.019241739064455032, 0.09742821753025055, 0.04356543719768524, 0.11014743894338608, 0.019241739064455032, 0.1519797146320343, 0.05839570239186287, 0.019241739064455032, 0.09742821753025055, 0.04356543719768524, 0.11014743894338608, 0.019241739064455032, 0.1519797146320343, 0.05839570239186287],[0.019546078518033028, 0.11471444368362427, 0.1311115324497223, 0.09046926349401474, 0.05805843323469162, 0.03518427908420563, 0.05091595649719238, 0.019546078518033028, 0.11471444368362427, 0.1311115324497223, 0.09046926349401474, 0.05805843323469162, 0.03518427908420563, 0.05091595649719238],[0.018938453868031502, 0.16191163659095764, 0.07692722976207733, 0.06355857104063034, 0.03281932324171066, 0.04189005866646767, 0.05160674452781677, 0.04287876561284065, 0.018938453868031502, 0.16191163659095764, 0.07692722976207733, 0.06355857104063034, 0.03281932324171066, 0.04189005866646767, 0.05160674452781677, 0.04287876561284065],[0.003368139499798417, 0.011864356696605682, 0.012070845812559128, 0.013653870671987534, 0.22901712357997894, 0.22901712357997894, 0.003368139499798417, 0.011864356696605682, 0.012070845812559128, 0.013653870671987534, 0.22901712357997894, 0.22901712357997894],[0.015593664720654488, 0.032486047595739365, 0.10453294217586517, 0.084898442029953, 0.0993431881070137, 0.0928051620721817, 0.04249228537082672, 0.02005140110850334, 0.015593664720654488, 0.032486047595739365, 0.10453294217586517, 0.084898442029953, 0.0993431881070137, 0.0928051620721817, 0.04249228537082672, 0.02005140110850334],[1.533242357254494e-05, 0.0007338454015552998, 0.0005423417896963656, 0.0018251891015097499, 0.2484378069639206, 0.2484378069639206, 1.533242357254494e-05, 0.0007338454015552998, 0.0005423417896963656, 0.0018251891015097499, 0.2484378069639206, 0.2484378069639206],[0.06392422318458557, 0.08981569856405258, 0.07976166903972626, 0.10673870146274567, 0.006105729844421148, 0.06392422318458557, 0.08972977101802826, 0.06392422318458557, 0.08981569856405258, 0.07976166903972626, 0.10673870146274567, 0.006105729844421148, 0.06392422318458557, 0.08972977101802826],[0.00024384044809266925, 0.004297737032175064, 0.012337052263319492, 0.013954988680779934, 0.23406779766082764, 0.23406779766082764, 0.00024384044809266925, 0.004297737032175064, 0.012337052263319492, 0.013954988680779934, 0.23406779766082764, 0.23406779766082764],[0.01891365274786949, 0.16169960796833038, 0.05342074856162071, 0.07682649046182632, 0.038047898560762405, 0.12049397826194763, 0.030597632750868797, 0.01891365274786949, 0.16169960796833038, 0.05342074856162071, 0.07682649046182632, 0.038047898560762405, 0.12049397826194763, 0.030597632750868797],[0.017144182696938515, 0.06624872982501984, 0.1702001690864563, 0.024817291647195816, 0.037046879529953, 0.10964895039796829, 0.07489383220672607, 0.017144182696938515, 0.06624872982501984, 0.1702001690864563, 0.024817291647195816, 0.037046879529953, 0.10964895039796829, 0.07489383220672607],[0.05001426488161087, 0.013687302358448505, 0.1382431983947754, 0.059671420603990555, 0.02953163906931877, 0.04822752997279167, 0.013687302358448505, 0.013687302358448505, 0.030320193618535995, 0.08924252539873123, 0.05001426488161087, 0.013687302358448505, 0.1382431983947754, 0.059671420603990555, 0.02953163906931877, 0.04822752997279167, 0.013687302358448505, 0.013687302358448505, 0.030320193618535995, 0.08924252539873123],[0.09819766879081726, 0.027163663879036903, 0.017637941986322403, 0.07495426386594772, 0.10548388212919235, 0.049099572002887726, 0.0328553207218647, 0.08578873425722122, 0.09819766879081726, 0.027163663879036903, 0.017637941986322403, 0.07495426386594772, 0.10548388212919235, 0.049099572002887726, 0.0328553207218647, 0.08578873425722122],[0.014893018640577793, 0.12732574343681335, 0.09792542457580566, 0.037249498069286346, 0.03955330699682236, 0.07604460418224335, 0.09211539477109909, 0.014893018640577793, 0.12732574343681335, 0.09792542457580566, 0.037249498069286346, 0.03955330699682236, 0.07604460418224335, 0.09211539477109909],[0.0006218921043910086, 4.434303627931513e-05, 0.00014784070663154125, 0.42764267325401306, 0.07061038166284561, 0.0006218921043910086, 4.434303627931513e-05, 0.00014784070663154125, 0.42764267325401306, 0.07061038166284561],[0.015114488080143929, 0.05454802140593529, 0.10298335552215576, 0.08780156821012497, 0.1015942171216011, 0.06977929919958115, 0.04118654876947403, 0.01943524368107319, 0.015114488080143929, 0.05454802140593529, 0.10298335552215576, 0.08780156821012497, 0.1015942171216011, 0.06977929919958115, 0.04118654876947403, 0.01943524368107319],[0.002282429486513138, 0.003212507115676999, 0.0024559395387768745, 0.0006873036036267877, 0.0006094375276006758, 0.0006094375276006758, 0.0004840447218157351, 0.4190782904624939, 0.0007749070646241307, 0.06919626891613007, 0.002282429486513138, 0.003212507115676999, 0.0024559395387768745, 0.0006873036036267877, 0.0006094375276006758, 0.0006094375276006758, 0.0004840447218157351, 0.4190782904624939, 0.0007749070646241307, 0.06919626891613007],[0.02591000497341156, 0.053908027708530426, 0.02697838842868805, 0.04230715334415436, 0.06802134215831757, 0.148093581199646, 0.13478149473667145, 0.02591000497341156, 0.053908027708530426, 0.02697838842868805, 0.04230715334415436, 0.06802134215831757, 0.148093581199646, 0.13478149473667145],[0.011203943751752377, 0.09578652679920197, 0.0916123315691948, 0.06295947730541229, 0.03539681062102318, 0.05985410138964653, 0.06122210994362831, 0.04479866102337837, 0.03716603294014931, 0.011203943751752377, 0.09578652679920197, 0.0916123315691948, 0.06295947730541229, 0.03539681062102318, 0.05985410138964653, 0.06122210994362831, 0.04479866102337837, 0.03716603294014931],[0.07586300373077393, 0.018708486109972, 0.15526048839092255, 0.05323474109172821, 0.07480956614017487, 0.1127694845199585, 0.07586300373077393, 0.018708486109972, 0.15526048839092255, 0.05323474109172821, 0.07480956614017487, 0.1127694845199585],[0.0006992201087996364, 0.0007885574596002698, 0.015989329665899277, 0.4808170795440674, 2.4978760848171078e-05, 0.0016723033040761948, 8.511328815075103e-06, 0.0006992201087996364, 0.0007885574596002698, 0.015989329665899277, 0.4808170795440674, 2.4978760848171078e-05, 0.0016723033040761948, 8.511328815075103e-06],[0.0007014001021161675, 0.0002948447654489428, 0.0005420734523795545, 0.0018242859514430165, 0.24831487238407135, 0.24831487238407135, 0.0007014001021161675, 0.0002948447654489428, 0.0005420734523795545, 0.0018242859514430165, 0.24831487238407135, 0.24831487238407135],[0.0240975022315979, 0.044143594801425934, 0.16643597185611725, 0.13366132974624634, 0.06617160886526108, 0.013463643379509449, 0.05202635005116463, 0.0240975022315979, 0.044143594801425934, 0.16643597185611725, 0.13366132974624634, 0.06617160886526108, 0.013463643379509449, 0.05202635005116463],[0.003850803477689624, 0.0002929849724750966, 0.0005386542179621756, 0.001812778995372355, 0.24674858152866364, 0.24674858152866364, 0.003850803477689624, 0.0002929849724750966, 0.0005386542179621756, 0.001812778995372355, 0.24674858152866364, 0.24674858152866364],[0.029484545812010765, 0.09878616034984589, 0.04615001007914543, 0.05576777830719948, 0.011096351779997349, 0.0393112376332283, 0.04965726286172867, 0.04644982889294624, 0.07214518636465073, 0.05115163326263428, 0.029484545812010765, 0.09878616034984589, 0.04615001007914543, 0.05576777830719948, 0.011096351779997349, 0.0393112376332283, 0.04965726286172867, 0.04644982889294624, 0.07214518636465073, 0.05115163326263428],[0.06478387117385864, 0.05015460029244423, 0.09401413053274155, 0.03298520669341087, 0.013330548070371151, 0.09455189853906631, 0.051839664578437805, 0.07283856719732285, 0.02550150826573372, 0.06478387117385864, 0.05015460029244423, 0.09401413053274155, 0.03298520669341087, 0.013330548070371151, 0.09455189853906631, 0.051839664578437805, 0.07283856719732285, 0.02550150826573372],[0.050112444907426834, 0.06868793070316315, 0.0814010426402092, 0.042447056621313095, 0.030999844893813133, 0.03918781504034996, 0.07663948833942413, 0.060411933809518814, 0.050112444907426834, 0.050112444907426834, 0.06868793070316315, 0.0814010426402092, 0.042447056621313095, 0.030999844893813133, 0.03918781504034996, 0.07663948833942413, 0.060411933809518814, 0.050112444907426834],[0.04922330752015114, 0.053680893033742905, 0.03901785612106323, 0.06385203450918198, 0.05919119715690613, 0.10157858580350876, 0.0525779202580452, 0.0768333449959755, 0.04922330752015114, 0.053680893033742905, 0.03901785612106323, 0.06385203450918198, 0.05919119715690613, 0.10157858580350876, 0.0525779202580452, 0.0768333449959755]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>