
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["jun jun","jun jun","apr apr","apr apr","apr apr","oct oct","oct oct","oct oct","oct oct","oct oct","stoltenberg says assumes monetary cooperation continue stoltenberg says assumes monetary cooperation continue","simon schuster acquire woodhead faulkner undisclosed terms simon schuster acquire woodhead faulkner undisclosed terms","trump interstate properties talks acquire alexanders trump interstate properties talks acquire alexanders","miyazawa says baker remarks aimed reaffirming louvre agreement miyazawa says baker remarks aimed reaffirming louvre agreement","basin pipeline texas okla border washed floods bpd crude affected basin pipeline texas okla border washed floods bpd crude affected","pentagon says warships begin <unk> gulf tanker convoy south kuwait pentagon says warships begin <unk> gulf tanker convoy south kuwait","stoltenberg says meeting baker underscored monetary cooperation stoltenberg says meeting baker underscored monetary cooperation","circle express terminates planned acquisition overland express circle express terminates planned acquisition overland express","miyazawa says still strongly supports louvre accord miyazawa says still strongly supports louvre accord","sumita welcomes west german joint confirmation louvre accord sumita welcomes west german joint confirmation louvre accord","stoltenberg rule central bank intervention stabilize currencies stoltenberg rule central bank intervention stabilize currencies","weinberger says forces attacked iranian oil platform weinberger says forces attacked iranian oil platform","shipping sources say unidentified jets raid iranian oil platforms southern gulf shipping sources say unidentified jets raid iranian oil platforms southern gulf","reagan says room declines interest rates reagan says room declines interest rates","balladur urges respect pledges monetary policy louvre accord balladur urges respect pledges monetary policy louvre accord","fed johnson says louvre accord alive cites german differences fed johnson says louvre accord alive cites german differences","hicks haas group gets financing spectradyne acquisition hicks haas group gets financing spectradyne acquisition","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","house speaker wright concerned interest rate rise greenspan house speaker wright concerned interest rate rise greenspan","fed seger says foreign exchange markets showing signs stability fed seger says foreign exchange markets showing signs stability","dominion textile calls report bid burlington rumor dominion textile calls report bid burlington rumor","stoltenberg declines comment possible changed targets currencies stoltenberg declines comment possible changed targets currencies","crazy eddie inc says oppose slate entertainment marketing crazy eddie inc says oppose slate entertainment marketing","german finance ministry confident maintaining currency stability around current levels spokesman german finance ministry confident maintaining currency stability around current levels spokesman","german finance ministry confident maintaining currency stability around current levels spokesman german finance ministry confident maintaining currency stability around current levels spokesman","poehl says chances exchange rate stability good poehl says chances exchange rate stability good","fed seger says thrift industry needs stable interest rates fed seger says thrift industry needs stable interest rates","robins says rorer group merger proposal merits consideration robins says rorer group merger proposal merits consideration","nakasone sumita agree discount rate cut appropriate central bank sources nakasone sumita agree discount rate cut appropriate central bank sources","henley group reviewing investment santa southern pacific henley group reviewing investment santa southern pacific","stifel financial said received unsolicited merger proposal stifel financial said received unsolicited merger proposal","treasury baker met west germany stoltenberg today agreed support louvre pact treasury baker met west germany stoltenberg today agreed support louvre pact","tokyo bundesbank schlesinger sees reason lower interest rates tokyo bundesbank schlesinger sees reason lower interest rates","treasury baker says floating exchange rate system needs greater stability treasury baker says floating exchange rate system needs greater stability","hutton lbo inc said tender offer <unk> purolator courier expired hutton lbo inc said tender offer <unk> purolator courier expired","reagan says allies must honor accords exchange rate stability reagan says allies must honor accords exchange rate stability","atlantis group tells sec seeks negotiated purchase charter crellin atlantis group tells sec seeks negotiated purchase charter crellin","dart group said solicit proxies attempt acquire dayton hudson dart group said solicit proxies attempt acquire dayton hudson","dayton hudson said told buyer stock interested acquired dayton hudson said told buyer stock interested acquired","barco directors approve buyout offer senior management barco directors approve buyout offer senior management"];
var att_heads = [2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
var trigram_weights = [[0.48451054096221924, 0.48451054096221924],[0.48451054096221924, 0.48451054096221924],[0.49853622913360596, 0.49853622913360596],[0.49853622913360596, 0.49853622913360596],[0.49853622913360596, 0.49853622913360596],[0.4999406337738037, 0.4999406337738037],[0.4999406337738037, 0.4999406337738037],[0.4999406337738037, 0.4999406337738037],[0.4999406337738037, 0.4999406337738037],[0.4999406337738037, 0.4999406337738037],[1.1568504305614624e-05, 0.3428089916706085, 0.005119930952787399, 0.0019447304075583816, 0.1317560076713562, 0.018337510526180267, 1.1568504305614624e-05, 0.3428089916706085, 0.005119930952787399, 0.0019447304075583816, 0.1317560076713562, 0.018337510526180267],[0.012196359224617481, 1.1505694601510186e-06, 0.05342273786664009, 1.0180067899767664e-09, 1.3009441772737773e-06, 0.0026825787499547005, 0.431695818901062, 0.012196359224617481, 1.1505694601510186e-06, 0.05342273786664009, 1.0180067899767664e-09, 1.3009441772737773e-06, 0.0026825787499547005, 0.431695818901062],[0.008989227935671806, 0.08627190440893173, 0.2677309215068817, 0.013211509212851524, 0.12377201020717621, 1.848994202191534e-08, 0.008989227935671806, 0.08627190440893173, 0.2677309215068817, 0.013211509212851524, 0.12377201020717621, 1.848994202191534e-08],[7.462492845888846e-08, 0.2766039967536926, 0.12428295612335205, 0.0027618329040706158, 0.05844155326485634, 3.021347367848648e-07, 3.8083364870544756e-06, 0.037888314574956894, 7.462492845888846e-08, 0.2766039967536926, 0.12428295612335205, 0.0027618329040706158, 0.05844155326485634, 3.021347367848648e-07, 3.8083364870544756e-06, 0.037888314574956894],[0.03606979176402092, 0.0036161993630230427, 0.06764821708202362, 7.492441334022715e-09, 0.15036578476428986, 0.002685121726244688, 0.0035342734772711992, 9.511225016467506e-07, 1.863002216850873e-05, 0.2360355705022812, 0.03606979176402092, 0.0036161993630230427, 0.06764821708202362, 7.492441334022715e-09, 0.15036578476428986, 0.002685121726244688, 0.0035342734772711992, 9.511225016467506e-07, 1.863002216850873e-05, 0.2360355705022812],[0.07513582706451416, 0.10252812504768372, 0.09897935390472412, 0.059952422976493835, 1.2713466276181862e-05, 0.007147865369915962, 0.0033987911883741617, 0.004682048223912716, 0.11475271731615067, 0.033410150557756424, 0.07513582706451416, 0.10252812504768372, 0.09897935390472412, 0.059952422976493835, 1.2713466276181862e-05, 0.007147865369915962, 0.0033987911883741617, 0.004682048223912716, 0.11475271731615067, 0.033410150557756424],[8.839395377435721e-06, 0.2619374096393585, 0.01819557137787342, 0.11769299954175949, 5.579175649472745e-06, 0.0014859518269076943, 0.1006736308336258, 8.839395377435721e-06, 0.2619374096393585, 0.01819557137787342, 0.11769299954175949, 5.579175649472745e-06, 0.0014859518269076943, 0.1006736308336258],[0.0024882140569388866, 0.0010746021289378405, 8.308014912472572e-06, 0.4909452199935913, 0.0038987030275166035, 0.00036657365853898227, 0.0010746021289378405, 0.0024882140569388866, 0.0010746021289378405, 8.308014912472572e-06, 0.4909452199935913, 0.0038987030275166035, 0.00036657365853898227, 0.0010746021289378405],[1.9093835845751528e-08, 0.07077301293611526, 0.3398537337779999, 0.003015360562130809, 0.0847729817032814, 9.744164799485588e-07, 0.0015839200932532549, 1.9093835845751528e-08, 0.07077301293611526, 0.3398537337779999, 0.003015360562130809, 0.0847729817032814, 9.744164799485588e-07, 0.0015839200932532549],[1.32610822323187e-09, 1.1747863027267158e-05, 0.23106999695301056, 0.07919348776340485, 0.17716041207313538, 0.007101637311279774, 3.349277221786906e-06, 0.005444271955639124, 1.32610822323187e-09, 1.1747863027267158e-05, 0.23106999695301056, 0.07919348776340485, 0.17716041207313538, 0.007101637311279774, 3.349277221786906e-06, 0.005444271955639124],[7.465560429409379e-06, 0.17006024718284607, 0.2714255452156067, 0.05665780231356621, 0.0010213364148512483, 1.5735411579953507e-05, 0.0008118966943584383, 7.465560429409379e-06, 0.17006024718284607, 0.2714255452156067, 0.05665780231356621, 0.0010213364148512483, 1.5735411579953507e-05, 0.0008118966943584383],[4.1327257349621505e-07, 0.18165323138237, 0.13555696606636047, 0.06740477681159973, 0.07491558790206909, 0.0009867293993011117, 0.039482299238443375, 4.1327257349621505e-07, 0.18165323138237, 0.13555696606636047, 0.06740477681159973, 0.07491558790206909, 0.0009867293993011117, 0.039482299238443375],[0.01841592602431774, 0.14350520074367523, 0.0836307555437088, 0.03346351534128189, 0.05523902550339699, 0.008985623717308044, 0.027939314022660255, 0.00036799474037252367, 0.04105948284268379, 0.08266596496105194, 0.004723021760582924, 0.01841592602431774, 0.14350520074367523, 0.0836307555437088, 0.03346351534128189, 0.05523902550339699, 0.008985623717308044, 0.027939314022660255, 0.00036799474037252367, 0.04105948284268379, 0.08266596496105194, 0.004723021760582924],[0.0011514995712786913, 0.09038832038640976, 0.4020756483078003, 2.2237461962504312e-05, 0.003539429511874914, 0.0028172649908810854, 0.0011514995712786913, 0.09038832038640976, 0.4020756483078003, 2.2237461962504312e-05, 0.003539429511874914, 0.0028172649908810854],[3.23638751353883e-08, 1.3121692063577939e-05, 0.3436184525489807, 0.00038898244383744895, 0.0016289185732603073, 0.1479025036096573, 3.95338429370895e-06, 0.0064262524247169495, 3.23638751353883e-08, 1.3121692063577939e-05, 0.3436184525489807, 0.00038898244383744895, 0.0016289185732603073, 0.1479025036096573, 3.95338429370895e-06, 0.0064262524247169495],[0.0009918265277519822, 0.14115935564041138, 0.09036938101053238, 1.24422297176352e-06, 0.0020224926993250847, 0.2031991332769394, 0.00031809203210286796, 0.029419587925076485, 0.0325188934803009, 0.0009918265277519822, 0.14115935564041138, 0.09036938101053238, 1.24422297176352e-06, 0.0020224926993250847, 0.2031991332769394, 0.00031809203210286796, 0.029419587925076485, 0.0325188934803009],[0.004042507614940405, 0.0003189223352819681, 0.27762138843536377, 0.20554988086223602, 0.012244836427271366, 2.166402009606827e-05, 0.0002008041919907555, 0.004042507614940405, 0.0003189223352819681, 0.27762138843536377, 0.20554988086223602, 0.012244836427271366, 2.166402009606827e-05, 0.0002008041919907555],[5.486341979121789e-05, 0.09677785634994507, 0.006473415065556765, 5.83883320359746e-07, 4.640514248421823e-07, 0.010181906633079052, 0.3865108788013458, 5.486341979121789e-05, 0.09677785634994507, 0.006473415065556765, 5.83883320359746e-07, 4.640514248421823e-07, 0.010181906633079052, 0.3865108788013458],[0.001029261271469295, 0.0009343236451968551, 4.031190474051982e-05, 8.998710109153762e-05, 0.23871654272079468, 0.09899318963289261, 0.15292586386203766, 0.0072705186903476715, 0.001029261271469295, 0.0009343236451968551, 4.031190474051982e-05, 8.998710109153762e-05, 0.23871654272079468, 0.09899318963289261, 0.15292586386203766, 0.0072705186903476715],[0.0019695928785949945, 1.2266448834452603e-07, 0.17945772409439087, 0.1042071282863617, 0.015307167544960976, 0.0034814407117664814, 0.05289450287818909, 0.13508959114551544, 0.007592744659632444, 0.0019695928785949945, 1.2266448834452603e-07, 0.17945772409439087, 0.1042071282863617, 0.015307167544960976, 0.0034814407117664814, 0.05289450287818909, 0.13508959114551544, 0.007592744659632444],[0.0011688156519085169, 0.002738244365900755, 0.4392087161540985, 0.014921064488589764, 0.04189883545041084, 5.953632717137225e-05, 4.7674166125943884e-06, 0.0011688156519085169, 0.002738244365900755, 0.4392087161540985, 0.014921064488589764, 0.04189883545041084, 5.953632717137225e-05, 4.7674166125943884e-06],[4.942530722473748e-06, 3.603273944463581e-05, 0.0017353978473693132, 0.2476026713848114, 0.04318254441022873, 0.20690087974071503, 0.0005375114851631224, 4.942530722473748e-06, 3.603273944463581e-05, 0.0017353978473693132, 0.2476026713848114, 0.04318254441022873, 0.20690087974071503, 0.0005375114851631224],[0.037141818553209305, 0.05374390631914139, 6.211654545040801e-05, 0.3180773854255676, 0.03197786211967468, 0.003828126937150955, 0.032993216067552567, 0.02215583808720112, 0.037141818553209305, 0.05374390631914139, 6.211654545040801e-05, 0.3180773854255676, 0.03197786211967468, 0.003828126937150955, 0.032993216067552567, 0.02215583808720112],[0.05572705343365669, 0.024568110704421997, 0.03178282454609871, 0.0012251583393663168, 0.02079705521464348, 0.00029435596661642194, 0.007242483086884022, 0.20076966285705566, 0.05615231767296791, 0.10012070089578629, 0.0013097076443955302, 0.05572705343365669, 0.024568110704421997, 0.03178282454609871, 0.0012251583393663168, 0.02079705521464348, 0.00029435596661642194, 0.007242483086884022, 0.20076966285705566, 0.05615231767296791, 0.10012070089578629, 0.0013097076443955302],[0.05572705343365669, 0.024568110704421997, 0.03178282454609871, 0.0012251583393663168, 0.02079705521464348, 0.00029435596661642194, 0.007242483086884022, 0.20076966285705566, 0.05615231767296791, 0.10012070089578629, 0.0013097076443955302, 0.05572705343365669, 0.024568110704421997, 0.03178282454609871, 0.0012251583393663168, 0.02079705521464348, 0.00029435596661642194, 0.007242483086884022, 0.20076966285705566, 0.05615231767296791, 0.10012070089578629, 0.0013097076443955302],[1.914243694045581e-05, 0.15437476336956024, 0.17007772624492645, 0.0131676709279418, 0.0046627759002149105, 0.006531500723212957, 0.1511664241552353, 1.914243694045581e-05, 0.15437476336956024, 0.17007772624492645, 0.0131676709279418, 0.0046627759002149105, 0.006531500723212957, 0.1511664241552353],[0.0018916587578132749, 1.1781080644368558e-07, 0.17235679924488068, 1.1149503507112968e-06, 0.04165972024202347, 0.27070367336273193, 0.0012656522449105978, 0.006749154068529606, 0.0053720963187515736, 0.0018916587578132749, 1.1781080644368558e-07, 0.17235679924488068, 1.1149503507112968e-06, 0.04165972024202347, 0.27070367336273193, 0.0012656522449105978, 0.006749154068529606, 0.0053720963187515736],[1.3367343854042701e-06, 0.1501205712556839, 2.539699295311948e-08, 0.23854759335517883, 0.0003729294694494456, 0.0451660193502903, 0.000552756420802325, 0.06522945314645767, 1.3367343854042701e-06, 0.1501205712556839, 2.539699295311948e-08, 0.23854759335517883, 0.0003729294694494456, 0.0451660193502903, 0.000552756420802325, 0.06522945314645767],[2.512210173222229e-08, 4.697424671462613e-10, 0.04895612224936485, 0.010341905057430267, 0.0026026959531009197, 0.06951270252466202, 0.05826427415013313, 0.10572274774312973, 0.02206873707473278, 0.18253077566623688, 2.512210173222229e-08, 4.697424671462613e-10, 0.04895612224936485, 0.010341905057430267, 0.0026026959531009197, 0.06951270252466202, 0.05826427415013313, 0.10572274774312973, 0.02206873707473278, 0.18253077566623688],[3.056134971757274e-07, 0.23211771249771118, 0.005275190342217684, 0.020469052717089653, 0.050367746502161026, 0.17824344336986542, 0.013526533730328083, 3.056134971757274e-07, 0.23211771249771118, 0.005275190342217684, 0.020469052717089653, 0.050367746502161026, 0.17824344336986542, 0.013526533730328083],[9.190506133904819e-09, 0.009147420525550842, 0.1806645691394806, 0.24745073914527893, 3.39562029694207e-05, 0.000513492850586772, 0.06218986213207245, 9.190506133904819e-09, 0.009147420525550842, 0.1806645691394806, 0.24745073914527893, 3.39562029694207e-05, 0.000513492850586772, 0.06218986213207245],[0.0001715953549137339, 0.03826512396335602, 0.05866241455078125, 0.08089455217123032, 0.02297740802168846, 2.8739193567162147e-06, 0.18652482330799103, 0.052041903138160706, 0.05901508778333664, 1.1725378499249928e-06, 0.0014377222396433353, 0.0001715953549137339, 0.03826512396335602, 0.05866241455078125, 0.08089455217123032, 0.02297740802168846, 2.8739193567162147e-06, 0.18652482330799103, 0.052041903138160706, 0.05901508778333664, 1.1725378499249928e-06, 0.0014377222396433353],[0.0004215426743030548, 0.00017059197125490755, 8.929731620810344e-08, 0.09532099217176437, 0.27870696783065796, 0.09231381863355637, 0.018395043909549713, 0.01464182697236538, 0.0004215426743030548, 0.00017059197125490755, 8.929731620810344e-08, 0.09532099217176437, 0.27870696783065796, 0.09231381863355637, 0.018395043909549713, 0.01464182697236538],[0.00015539376181550324, 0.034652229398489, 0.07712195813655853, 0.04584352299571037, 0.006578254979103804, 0.0023294121492654085, 0.13396823406219482, 0.12112777680158615, 0.07496025413274765, 0.003262982238084078, 0.00015539376181550324, 0.034652229398489, 0.07712195813655853, 0.04584352299571037, 0.006578254979103804, 0.0023294121492654085, 0.13396823406219482, 0.12112777680158615, 0.07496025413274765, 0.003262982238084078],[1.7978845789912157e-06, 8.971491993747804e-09, 3.676570486277342e-05, 0.16454832255840302, 0.008500023745000362, 0.32266566157341003, 2.334475539100822e-05, 4.2345021711298614e-08, 0.003953076433390379, 0.0002709794498514384, 1.7978845789912157e-06, 8.971491993747804e-09, 3.676570486277342e-05, 0.16454832255840302, 0.008500023745000362, 0.32266566157341003, 2.334475539100822e-05, 4.2345021711298614e-08, 0.003953076433390379, 0.0002709794498514384],[0.0010107135167345405, 0.07933715730905533, 0.03656652569770813, 0.31448081135749817, 0.05335560068488121, 0.0027289751451462507, 0.006767204962670803, 0.002396320691332221, 0.0033567058853805065, 0.0010107135167345405, 0.07933715730905533, 0.03656652569770813, 0.31448081135749817, 0.05335560068488121, 0.0027289751451462507, 0.006767204962670803, 0.002396320691332221, 0.0033567058853805065],[0.0009653635206632316, 0.304068922996521, 0.09522583335638046, 0.0014774661976844072, 0.003841989440843463, 0.01043807901442051, 0.04703301563858986, 0.036949340254068375, 2.3857893438616884e-09, 0.0009653635206632316, 0.304068922996521, 0.09522583335638046, 0.0014774661976844072, 0.003841989440843463, 0.01043807901442051, 0.04703301563858986, 0.036949340254068375, 2.3857893438616884e-09],[1.2118050108256284e-05, 0.2455248236656189, 0.13504719734191895, 0.00017073022900149226, 7.125440788513515e-07, 0.04598752409219742, 0.048576924949884415, 0.006114918272942305, 0.018565043807029724, 1.2118050108256284e-05, 0.2455248236656189, 0.13504719734191895, 0.00017073022900149226, 7.125440788513515e-07, 0.04598752409219742, 0.048576924949884415, 0.006114918272942305, 0.018565043807029724],[0.010071859695017338, 0.03057841584086418, 0.22243578732013702, 0.06584683060646057, 0.0002908506721723825, 0.002243570052087307, 0.12140365689992905, 0.047129008919000626, 0.010071859695017338, 0.03057841584086418, 0.22243578732013702, 0.06584683060646057, 0.0002908506721723825, 0.002243570052087307, 0.12140365689992905, 0.047129008919000626],[1.1720217685251555e-07, 0.13115251064300537, 0.004404456354677677, 0.0001087729397113435, 0.15846557915210724, 0.16544987261295319, 0.04041864350438118, 1.1720217685251555e-07, 0.13115251064300537, 0.004404456354677677, 0.0001087729397113435, 0.15846557915210724, 0.16544987261295319, 0.04041864350438118]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>