
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["jun jun","jun jun","oct oct","oct oct","oct oct","oct oct","oct oct","apr apr","apr apr","apr apr","walgreen qtr shr cts cts walgreen qtr shr cts cts","raytheon qtr shr dlrs dlrs raytheon qtr shr dlrs dlrs","rubbermaid inc qtr shr cts cts rubbermaid inc qtr shr cts cts","gte corp qtr shr cts cts gte corp qtr shr cts cts","ncr corp qtr shr cts cts ncr corp qtr shr cts cts","mead corp qtr oper shr dlrs cts mead corp qtr oper shr dlrs cts","simon schuster acquire woodhead faulkner undisclosed terms simon schuster acquire woodhead faulkner undisclosed terms","morgan inc qtr shr dlrs dlrs morgan inc qtr shr dlrs dlrs","circle express terminates planned acquisition overland express circle express terminates planned acquisition overland express","whirlpool corp qtr shr cts cts whirlpool corp qtr shr cts cts","abbott laboratories qtr net shr cts cts abbott laboratories qtr net shr cts cts","thomson grand public takes thorn emi audiovisual division thomson thomson grand public takes thorn emi audiovisual division thomson","napa valley bancorp <unk> qtr net shr cts cts net","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","bancorp <unk> qtr net shr cts cts net mln mln avg shrs mln mln","wells fargo qtr shr dlrs dlrs wells fargo qtr shr dlrs dlrs","sumita welcomes west german joint confirmation louvre accord sumita welcomes west german joint confirmation louvre accord","<unk> bancorp inc <unk> qtr net shr dlrs dlrs net avg shrs","trump interstate properties talks acquire alexanders trump interstate properties talks acquire alexanders","westport bancorp inc <unk> qtr net shr cts cts net nine mths shr cts dlrs net","tecsyn international terminates takeover talks investor group tecsyn international terminates takeover talks investor group","<unk> corp ohio <unk> qtr net shr cts cts net","hicks haas group gets financing spectradyne acquisition hicks haas group gets financing spectradyne acquisition","<unk> inc <unk> qtr net shr cts cts net mln revs mln mln avg shrs mln mln nine mths shr dlrs cts net mln revs mln mln avg shrs mln mln","cable wireless merge two units new telecommunication operation cable wireless merge two units new telecommunication operation","miyazawa says still strongly supports louvre accord miyazawa says still strongly supports louvre accord","rubbermaid inc <unk> qtr net shr cts cts net mln mln sales mln mln","<unk> corp <unk> qtr net shr dlrs dlr net","ust inc ust qtr net shr cts cts net mln mln revs mln mln nine mths shr dlrs dlrs net mln mln revs mln mln avg shrs mln mln","<unk> bancshares inc <unk> qtr net shr cts cts net nine mths shr dlrs dlrs net","<unk> inc <unk> qtr sept net shr cts cts net sales mln mln avg shrs mln mln","data <unk> inc <unk> qtr feb net shr cts cts net sales avg shrs","boeing acquire argosystems dlrs share boeing acquire argosystems dlrs share","ohio <unk> <unk> qtr net shr cts cts net mln mln revs mln mln avg shrs mln mln mths shr dlrs dlrs net mln mln revs billion billion avg shrs mln mln","stanadyne inc <unk> qtr net shr cts cts net revs mln mln nine mths shr dlrs dlrs net mln mln revs mln mln","raytheon <unk> qtr net shr dlrs dlrs net mln mln revs billion billion avg shrs mln mln","westinghouse electric corp qtr shr dlrs cts westinghouse electric corp qtr shr dlrs cts","roto rooter inc roto qtr net shr cts cts net revs mln","<unk> <unk> inc <unk> qtr net shr dlrs dlrs net mln mln revs mln mln nine mths shr dlrs dlrs net mln mln revs billion mln","wpp group extending expiration merger proposal jwt group june wpp group extending expiration merger proposal jwt group june"];
var att_heads = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,2,1,2,1,0,1,1,2,1,2,1,2,2,2,1,2,0,1,2,1,1,1,1,1,1,1,1,2,1,1,2];
var trigram_weights = [[0.44854414463043213, 0.44854414463043213],[0.44854414463043213, 0.44854414463043213],[0.46423739194869995, 0.46423739194869995],[0.46423739194869995, 0.46423739194869995],[0.46423739194869995, 0.46423739194869995],[0.46423739194869995, 0.46423739194869995],[0.46423739194869995, 0.46423739194869995],[0.37264323234558105, 0.37264323234558105],[0.37264323234558105, 0.37264323234558105],[0.37264323234558105, 0.37264323234558105],[0.0032368896063417196, 0.2698986828327179, 0.14572422206401825, 0.03814244270324707, 0.03814244270324707, 0.0032368896063417196, 0.2698986828327179, 0.14572422206401825, 0.03814244270324707, 0.03814244270324707],[0.002853294601663947, 0.23791372776031494, 0.12845484912395477, 0.06324907392263412, 0.06324907392263412, 0.002853294601663947, 0.23791372776031494, 0.12845484912395477, 0.06324907392263412, 0.06324907392263412],[0.0031533995643258095, 0.016050003468990326, 0.26293712854385376, 0.14196552336215973, 0.037158623337745667, 0.037158623337745667, 0.0031533995643258095, 0.016050003468990326, 0.26293712854385376, 0.14196552336215973, 0.037158623337745667, 0.037158623337745667],[0.025112224742770195, 0.020896464586257935, 0.2482779324054718, 0.13405069708824158, 0.035086967051029205, 0.035086967051029205, 0.025112224742770195, 0.020896464586257935, 0.2482779324054718, 0.13405069708824158, 0.035086967051029205, 0.035086967051029205],[0.06391294300556183, 0.01918911561369896, 0.22799234092235565, 0.12309806793928146, 0.032220181077718735, 0.032220181077718735, 0.06391294300556183, 0.01918911561369896, 0.22799234092235565, 0.12309806793928146, 0.032220181077718735, 0.032220181077718735],[0.0013735065003857017, 0.018951039761304855, 0.22516368329524994, 0.04126106575131416, 0.12157081067562103, 0.059859491884708405, 0.03182043135166168, 0.0013735065003857017, 0.018951039761304855, 0.22516368329524994, 0.04126106575131416, 0.12157081067562103, 0.059859491884708405, 0.03182043135166168],[0.0008500437834300101, 0.06402132660150528, 0.1656804382801056, 0.06402132660150528, 0.0024030348286032677, 0.015433847904205322, 0.12356865406036377, 0.0008500437834300101, 0.06402132660150528, 0.1656804382801056, 0.06402132660150528, 0.0024030348286032677, 0.015433847904205322, 0.12356865406036377],[0.007806678768247366, 0.014048104174435139, 0.2301412671804428, 0.12425832450389862, 0.06118277832865715, 0.06118277832865715, 0.007806678768247366, 0.014048104174435139, 0.2301412671804428, 0.12425832450389862, 0.06118277832865715, 0.06118277832865715],[0.004243537783622742, 0.1568983793258667, 0.05789084732532501, 0.10569541901350021, 0.014598495326936245, 0.003774946788325906, 0.1568983793258667, 0.004243537783622742, 0.1568983793258667, 0.05789084732532501, 0.10569541901350021, 0.014598495326936245, 0.003774946788325906, 0.1568983793258667],[0.18232199549674988, 0.23257048428058624, 0.004869377240538597, 0.011892336420714855, 0.028703374788165092, 0.028703374788165092, 0.18232199549674988, 0.23257048428058624, 0.004869377240538597, 0.011892336420714855, 0.028703374788165092, 0.028703374788165092],[0.1086096540093422, 0.001730585005134344, 0.21181906759738922, 0.003605806967243552, 0.11436576396226883, 0.029934553429484367, 0.029934553429484367, 0.1086096540093422, 0.001730585005134344, 0.21181906759738922, 0.003605806967243552, 0.11436576396226883, 0.029934553429484367, 0.029934553429484367],[0.026005858555436134, 0.07114987820386887, 0.11322913318872452, 0.002476723399013281, 0.17968228459358215, 0.012708456255495548, 0.02015751786530018, 0.038398269563913345, 0.026005858555436134, 0.026005858555436134, 0.07114987820386887, 0.11322913318872452, 0.002476723399013281, 0.17968228459358215, 0.012708456255495548, 0.02015751786530018, 0.038398269563913345, 0.026005858555436134],[0.03062654472887516, 0.006834115833044052, 0.006023094058036804, 0.006023094058036804, 0.5022183060646057, 0.008549287915229797, 0.27115869522094727, 0.07097416371107101, 0.07097416371107101, 0.008549287915229797],[0.003552235895767808, 0.020212261006236076, 0.06625398248434067, 0.022888706997036934, 0.022888706997036934, 0.03884577751159668, 0.3253583014011383, 0.003552235895767808, 0.020212261006236076, 0.06625398248434067, 0.022888706997036934, 0.022888706997036934, 0.03884577751159668, 0.3253583014011383],[0.0013971334556117654, 0.0013971334556117654, 0.11649594455957413, 0.0019831163808703423, 0.06289871782064438, 0.01646336168050766, 0.01646336168050766, 0.0019831163808703423, 0.17845232784748077, 0.17845232784748077, 0.06571168452501297, 0.0013971334556117654, 0.17845232784748077, 0.17845232784748077],[0.004161871038377285, 0.005092498380690813, 0.23620614409446716, 0.12753288447856903, 0.06279511749744415, 0.06279511749744415, 0.004161871038377285, 0.005092498380690813, 0.23620614409446716, 0.12753288447856903, 0.06279511749744415, 0.06279511749744415],[0.022222401574254036, 0.004029034171253443, 0.19748200476169586, 0.058243103325366974, 0.0387854240834713, 0.010191338136792183, 0.14024117588996887, 0.028805512934923172, 0.022222401574254036, 0.004029034171253443, 0.19748200476169586, 0.058243103325366974, 0.0387854240834713, 0.010191338136792183, 0.14024117588996887, 0.028805512934923172],[0.004297418985515833, 0.004297418985515833, 0.02187277004122734, 0.004297418985515833, 0.35832786560058594, 0.006099833641201258, 0.1934690773487091, 0.09526102989912033, 0.09526102989912033, 0.006099833641201258, 0.20212143659591675, 0.004297418985515833],[0.043806854635477066, 0.2370280921459198, 0.05327384173870087, 0.0061937724240124226, 0.08564004302024841, 0.04809924215078354, 0.043806854635477066, 0.2370280921459198, 0.05327384173870087, 0.0061937724240124226, 0.08564004302024841, 0.04809924215078354],[0.0035222279839217663, 0.0035222279839217663, 0.017927246168255806, 0.0035222279839217663, 0.29369083046913147, 0.004999513737857342, 0.15857011079788208, 0.04150477796792984, 0.04150477796792984, 0.004999513737857342, 0.00030759384389966726, 0.13925494253635406, 0.15857011079788208, 0.04150477796792984, 0.07807734608650208, 0.004999513737857342],[0.018672198057174683, 0.12439242750406265, 0.003341684117913246, 0.09521656483411789, 0.0022276458330452442, 0.17464981973171234, 0.08149968087673187, 0.018672198057174683, 0.12439242750406265, 0.003341684117913246, 0.09521656483411789, 0.0022276458330452442, 0.17464981973171234, 0.08149968087673187],[0.03972113877534866, 0.42224767804145813, 0.1467239111661911, 0.03972113877534866, 0.008840689435601234, 0.04888240620493889, 0.02159135416150093, 0.05211294814944267, 0.05211294814944267, 0.04888240620493889],[0.057505376636981964, 0.017535248771309853, 0.09070093929767609, 0.005940895993262529, 0.23489734530448914, 0.020780276507139206, 0.07263992726802826, 0.057505376636981964, 0.017535248771309853, 0.09070093929767609, 0.005940895993262529, 0.23489734530448914, 0.020780276507139206, 0.07263992726802826],[0.0005813842290081084, 0.002959098434075713, 0.0005813842290081084, 0.04847704619169235, 0.0008252272382378578, 0.026173822581768036, 0.0068508414551615715, 0.0068508414551615715, 0.0008252272382378578, 0.07425874471664429, 0.01854046620428562, 0.07425874471664429, 0.07425874471664429, 0.027344373986124992, 0.0005813842290081084, 0.07425874471664429, 0.07425874471664429, 5.077190144220367e-05, 0.022985633462667465, 0.026173822581768036, 0.012887565419077873, 0.0068508414551615715, 0.0008252272382378578, 0.07425874471664429, 0.01854046620428562, 0.07425874471664429, 0.07425874471664429, 0.027344373986124992, 0.0005813842290081084, 0.07425874471664429, 0.07425874471664429],[0.16199633479118347, 0.06981052458286285, 0.008322030305862427, 0.018265340477228165, 0.010431244969367981, 0.06792479008436203, 0.11428752541542053, 0.04461854323744774, 0.16199633479118347, 0.06981052458286285, 0.008322030305862427, 0.018265340477228165, 0.010431244969367981, 0.06792479008436203, 0.11428752541542053, 0.04461854323744774],[0.007199834566563368, 0.34285661578178406, 0.031376950442790985, 0.0077941338531672955, 0.08921460807323456, 0.00034495475119911134, 0.014013105072081089, 0.007199834566563368, 0.34285661578178406, 0.031376950442790985, 0.0077941338531672955, 0.08921460807323456, 0.00034495475119911134, 0.014013105072081089],[0.001471061143092811, 0.007487327791750431, 0.001471061143092811, 0.12266018241643906, 0.002088050590828061, 0.06622692942619324, 0.017334502190351486, 0.017334502190351486, 0.002088050590828061, 0.18789492547512054, 0.18789492547512054, 0.010258679278194904, 0.18789492547512054, 0.18789492547512054],[0.03665725886821747, 0.3896777331829071, 0.03665725886821747, 0.00815876480191946, 0.04511187598109245, 0.019925910979509354, 0.06262370198965073, 0.20944657921791077, 0.04511187598109245],[0.0007954996544867754, 0.0030241012573242188, 0.0007954996544867754, 0.04954195022583008, 0.0008433551411144435, 0.026748785749077797, 0.007001334801316261, 0.007001334801316261, 0.0008433551411144435, 0.07588999718427658, 0.07588999718427658, 0.018947748467326164, 0.07588999718427658, 0.07588999718427658, 5.188721479498781e-05, 0.023490561172366142, 0.026748785749077797, 0.013170668855309486, 0.013170668855309486, 0.0008433551411144435, 0.07588999718427658, 0.07588999718427658, 0.018947748467326164, 0.07588999718427658, 0.07588999718427658, 0.027945050969719887, 0.0005941555718891323, 0.07588999718427658, 0.07588999718427658],[0.0033979560248553753, 0.0033979560248553753, 0.017294732853770256, 0.0033979560248553753, 0.2833287715911865, 0.004823119845241308, 0.1529754102230072, 0.04004039615392685, 0.04004039615392685, 0.004823119845241308, 0.00029674122924916446, 0.13434171676635742, 0.1529754102230072, 0.07532260566949844, 0.07532260566949844, 0.004823119845241308],[0.0013636026997119188, 0.006940391846001148, 0.0013636026997119188, 0.11370007693767548, 0.007550005801022053, 0.0019355221884325147, 0.06138916686177254, 0.016068246215581894, 0.016068246215581894, 0.0019355221884325147, 0.00950930081307888, 0.17416952550411224, 0.17416952550411224, 0.0641346275806427, 0.0013636026997119188, 0.17416952550411224, 0.17416952550411224],[0.00999260414391756, 0.0030608810484409332, 0.015579108148813248, 0.0030608810484409332, 0.25522270798683167, 0.3260877728462219, 0.004344669636338949, 0.13780036568641663, 0.03606841713190079, 0.03606841713190079, 0.004344669636338949, 0.02134554088115692, 0.14396308362483978, 0.0030608810484409332],[0.21591973304748535, 0.0005686740623787045, 0.011474335566163063, 0.25435206294059753, 0.0004736847768072039, 0.21591973304748535, 0.0005686740623787045, 0.011474335566163063, 0.25435206294059753, 0.0004736847768072039],[0.012378159910440445, 0.0005693704588338733, 0.0005693704588338733, 0.047475311905145645, 0.0008081746636889875, 0.025632964447140694, 0.006709274835884571, 0.006709274835884571, 0.0008081746636889875, 0.07272425293922424, 0.07272425293922424, 0.018157344311475754, 0.07272425293922424, 0.07272425293922424, 0.026779325678944588, 0.0005693704588338733, 0.07272425293922424, 0.07272425293922424, 0.022510655224323273, 0.025632964447140694, 0.012621255591511726, 0.012621255591511726, 0.0008081746636889875, 0.07272425293922424, 0.07272425293922424, 0.018157344311475754, 0.002376133343204856, 0.002376133343204856, 0.026779325678944588, 0.0005693704588338733, 0.07272425293922424, 0.07272425293922424],[0.0008901232504285872, 0.004530501551926136, 0.0008901232504285872, 0.07422035932540894, 0.0012634570011869073, 0.040073201060295105, 0.010488920845091343, 0.010488920845091343, 0.0012634570011869073, 0.028386220335960388, 0.11369320005178452, 0.11369320005178452, 7.773387915221974e-05, 0.03519195318222046, 0.040073201060295105, 0.019731394946575165, 0.019731394946575165, 0.0012634570011869073, 0.11369320005178452, 0.11369320005178452, 0.028386220335960388, 0.11369320005178452, 0.11369320005178452],[0.0012874077074229717, 0.0012874077074229717, 0.1073467805981636, 0.0018273696769028902, 0.05795888602733612, 0.028538014739751816, 0.028538014739751816, 0.0018273696769028902, 0.16443733870983124, 0.16443733870983124, 0.04105570539832115, 0.005372692830860615, 0.005372692830860615, 0.060550931841135025, 0.0012874077074229717, 0.16443733870983124, 0.16443733870983124],[0.022274130955338478, 0.1566047966480255, 0.23678073287010193, 0.004957528319209814, 0.012107624672353268, 0.03805217891931534, 0.029222995042800903, 0.022274130955338478, 0.1566047966480255, 0.23678073287010193, 0.004957528319209814, 0.012107624672353268, 0.03805217891931534, 0.029222995042800903],[0.019182417541742325, 0.004898144863545895, 0.015192861668765545, 0.019182417541742325, 0.2488950937986374, 0.004236953798681498, 0.1343839317560196, 0.035174187272787094, 0.035174187272787094, 0.004236953798681498, 0.095192089676857, 0.3812657296657562],[0.0007836331496946514, 0.0007836331496946514, 0.003988493699580431, 0.0007836331496946514, 0.06534098833799362, 0.0011123029980808496, 0.035279035568237305, 0.01737082377076149, 0.01737082377076149, 0.0011123029980808496, 0.10009148716926575, 0.10009148716926575, 0.024990227073431015, 0.10009148716926575, 0.10009148716926575, 6.84341648593545e-05, 0.030981754884123802, 0.035279035568237305, 0.01737082377076149, 0.01737082377076149, 0.0011123029980808496, 0.10009148716926575, 0.10009148716926575, 0.024990227073431015, 0.003270308254286647, 0.10009148716926575],[0.024281146004796028, 0.13243229687213898, 0.01566595397889614, 0.0017970126355066895, 0.10295821726322174, 0.04503672197461128, 0.030341245234012604, 0.13243229687213898, 0.015055094845592976, 0.024281146004796028, 0.13243229687213898, 0.01566595397889614, 0.0017970126355066895, 0.10295821726322174, 0.04503672197461128, 0.030341245234012604, 0.13243229687213898, 0.015055094845592976]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>