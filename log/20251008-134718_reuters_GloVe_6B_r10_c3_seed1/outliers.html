
    <html lang="en">
    <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <style>
    body {
    font-family: Sans-Serif;
    }
    </style>
    </head>
    <body>
    <h3>
    Visualization of Self-Attention Weights
    </h3>
    </body>
    <script>
    var any_text = ["walgreen qtr shr cts cts walgreen qtr shr cts cts","apr apr","apr apr","apr apr","oct oct","oct oct","oct oct","oct oct","oct oct","ncr corp qtr shr cts cts ncr corp qtr shr cts cts","whirlpool corp qtr shr cts cts whirlpool corp qtr shr cts cts","gte corp qtr shr cts cts gte corp qtr shr cts cts","jun jun","jun jun","rubbermaid inc qtr shr cts cts rubbermaid inc qtr shr cts cts","<unk> corp <unk> qtr mar shr cts cts net revs mln mln","roto rooter inc roto qtr net shr cts cts net revs mln","<unk> corp <unk> qtr net shr cts cts net mln mln revs mln mln","<unk> corp <unk> qtr sept net shr cts cts net revs mln mln avg shrs mln mln","tandy corp <unk> qtr sept net shr cts cts net mln mln revs mln mln avg shrs mln mln","ford raises qtly payout cts shr cts ford raises qtly payout cts shr cts","westinghouse electric corp qtr shr dlrs cts westinghouse electric corp qtr shr dlrs cts","ohio <unk> <unk> qtr net shr cts cts net mln mln revs mln mln avg shrs mln mln mths shr dlrs dlrs net mln mln revs billion billion avg shrs mln mln","gte corp gte qtr mar shr cts cts net mln mln revs billion billion avg shrs mln mln","inc <unk> qtr sept net shr cts cts net revs mln mln avg shrs half shr cts cts <unk> revs mln mln avg shrs","ncr corp ncr qtr net shr cts cts net mln mln revs billion mln avg shrs mln mln","mead corp qtr oper shr dlrs cts mead corp qtr oper shr dlrs cts","park communications inc <unk> qtr mar shr cts cts net revs mln mln","<unk> corp ohio <unk> qtr net shr cts cts net","<unk> family <unk> <unk> qtr shr cts cts net revs mln mln nine mths shr cts cts net revs mln mln","burnham service corp <unk> qtr net shr cts cts net revs mln mln nine mths shr dlrs cts net revs mln mln","<unk> microsystems inc <unk> qtr loss shr loss cts loss cts net loss loss revs avg shrs","<unk> hall inc <unk> qtr feb net shr cts cts net revs mln mln avg shrs","roto rooter inc roto qtr net shr cts cts net revs mln mln nine mths shr cts cts net revs mln mln","rio tinto zinc corp plc pretax profit mln stg mln rio tinto zinc corp plc pretax profit mln stg mln","<unk> corp <unk> qtr sept loss shr loss cts loss cts net loss loss revs mln mln","<unk> laboratories ltd <unk> qtr net shr profit cts loss cts net profit loss revs","park communications inc <unk> qtr net shr cts cts net revs mln mln","<unk> inc <unk> qtr sept loss shr loss cts profit cts shr net loss profit revs mln mln","wells fargo qtr shr dlrs dlrs wells fargo qtr shr dlrs dlrs","uspci inc <unk> qtr net shr cts cts net revs mln mln nine mths shr cts cts net revs mln mln","<unk> corp <unk> qtr oct net shr cts cts net revs mln mln nine mths shr cts cts net revs mln mln","bancorp <unk> qtr net shr cts cts net mln mln avg shrs mln mln","abbott laboratories qtr net shr cts cts abbott laboratories qtr net shr cts cts","bildner sons inc jbil qtr shr one nil net revs","<unk> corp <unk> qtr feb net shr cts cts net revs nine mths shr cts cts net revs mln mln","spectra physics rejects ciba geigy tender offer spectra physics rejects ciba geigy tender offer","ibc acquisition gets shares tender buy pct ibc acquisition gets shares tender buy pct","<unk> computer inc <unk> qtr net shr cts cts net revs mln mln nine mths shr cts cts net mln revs mln mln","<unk> inc <unk> qtr net shr cts cts net mln revs mln mln avg shrs mln mln nine mths shr dlrs cts net mln revs mln mln avg shrs mln mln"];
var att_heads = [5,5,5,5,5,5,5,5,5,5,5,5,0,0,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1,5,1,5,5,5];
var trigram_weights = [[0.0042529022321105, 0.4926251471042633, 0.002692615846171975, 4.0775448724161834e-05, 4.0775448724161834e-05, 0.0042529022321105, 0.4926251471042633, 0.002692615846171975, 4.0775448724161834e-05, 4.0775448724161834e-05],[0.3976289629936218, 0.3976289629936218],[0.3976289629936218, 0.3976289629936218],[0.3976289629936218, 0.3976289629936218],[0.22806960344314575, 0.22806960344314575],[0.22806960344314575, 0.22806960344314575],[0.22806960344314575, 0.22806960344314575],[0.22806960344314575, 0.22806960344314575],[0.22806960344314575, 0.22806960344314575],[0.0004547149583231658, 0.033576082438230515, 0.4632514417171478, 0.0025320635177195072, 3.834413655567914e-05, 3.834413655567914e-05, 0.0004547149583231658, 0.033576082438230515, 0.4632514417171478, 0.0025320635177195072, 3.834413655567914e-05, 3.834413655567914e-05],[0.0019366109045222402, 0.03347647562623024, 0.4618771970272064, 0.0025245521683245897, 3.8230387872317806e-05, 3.8230387872317806e-05, 0.0019366109045222402, 0.03347647562623024, 0.4618771970272064, 0.0025245521683245897, 3.8230387872317806e-05, 3.8230387872317806e-05],[0.0006267654825933278, 0.03356451913714409, 0.4630919098854065, 0.0025311915669590235, 3.83309306926094e-05, 3.83309306926094e-05, 0.0006267654825933278, 0.03356451913714409, 0.4630919098854065, 0.0025311915669590235, 3.83309306926094e-05, 3.83309306926094e-05],[0.31127724051475525, 0.31127724051475525],[0.31127724051475525, 0.31127724051475525],[0.007306396961212158, 0.001254389644600451, 0.488572895526886, 0.002670466899871826, 4.04400379920844e-05, 4.04400379920844e-05, 0.007306396961212158, 0.001254389644600451, 0.488572895526886, 0.002670466899871826, 4.04400379920844e-05, 4.04400379920844e-05],[0.0001266499311896041, 0.019503967836499214, 0.0001266499311896041, 0.2690975069999695, 4.3112129787914455e-05, 0.001470846589654684, 2.2273685317486525e-05, 2.2273685317486525e-05, 0.4764798581600189, 0.00019813611288554966, 0.11639101058244705, 0.11639101058244705],[6.863585440441966e-06, 2.680274974409258e-06, 0.0005152091616764665, 6.863585440441966e-06, 0.2006690800189972, 0.3553164601325989, 0.0010968270944431424, 1.6609741578577086e-05, 1.6609741578577086e-05, 0.3553164601325989, 0.00014775236195418984, 0.08679410070180893],[7.41036346880719e-05, 0.011411887593567371, 7.41036346880719e-05, 0.1574505716562271, 0.278791218996048, 0.0008606011397205293, 1.3032466995355207e-05, 1.3032466995355207e-05, 0.278791218996048, 0.06810107827186584, 0.06810107827186584, 0.00011593062663450837, 0.06810107827186584, 0.06810107827186584],[7.396566070383415e-05, 0.011390640400350094, 7.396566070383415e-05, 0.15715740621089935, 0.000758767535444349, 0.2782721221446991, 0.0008589987992309034, 1.3008201676711906e-05, 1.3008201676711906e-05, 0.2782721221446991, 0.000115714778075926, 0.0679742768406868, 0.0679742768406868, 0.0010291680227965117, 7.396566070383415e-05, 0.0679742768406868, 0.0679742768406868],[0.00011327184620313346, 0.010026290081441402, 6.510618550237268e-05, 0.13833338022232056, 0.0006678837235085666, 0.24494120478630066, 0.0007561094826087356, 1.1450102647359017e-05, 1.1450102647359017e-05, 0.24494120478630066, 0.05983244255185127, 0.05983244255185127, 0.00010185466817347333, 0.05983244255185127, 0.05983244255185127, 0.0009058961295522749, 6.510618550237268e-05, 0.05983244255185127, 0.05983244255185127],[0.0024326022248715162, 0.20030450820922852, 0.00034923545899800956, 0.2927349805831909, 6.14193850196898e-05, 0.0040558394975960255, 6.14193850196898e-05, 0.0024326022248715162, 0.20030450820922852, 0.00034923545899800956, 0.2927349805831909, 6.14193850196898e-05, 0.0040558394975960255, 6.14193850196898e-05],[0.005215794779360294, 0.017655638977885246, 0.0221550390124321, 0.30567455291748047, 0.0016707717441022396, 0.1476029008626938, 2.5301220375695266e-05, 0.005215794779360294, 0.017655638977885246, 0.0221550390124321, 0.30567455291748047, 0.0016707717441022396, 0.1476029008626938, 2.5301220375695266e-05],[3.953566192649305e-05, 3.537888915161602e-05, 3.537888915161602e-05, 0.07517079263925552, 0.13310161232948303, 0.0004108724242541939, 6.222018328116974e-06, 6.222018328116974e-06, 0.13310161232948303, 0.032513055950403214, 0.032513055950403214, 5.5348118621623144e-05, 0.032513055950403214, 0.032513055950403214, 0.0004922664957121015, 3.537888915161602e-05, 0.032513055950403214, 0.032513055950403214, 3.537888915161602e-05, 0.0004108724242541939, 0.03629809990525246, 0.03629809990525246, 0.13310161232948303, 0.032513055950403214, 0.032513055950403214, 5.5348118621623144e-05, 0.06282587349414825, 0.06282587349414825, 0.0004922664957121015, 3.537888915161602e-05, 0.032513055950403214, 0.032513055950403214],[0.00021616801677737385, 0.011576220393180847, 0.00021616801677737385, 0.1597178727388382, 2.55884096986847e-05, 0.000872993899974972, 1.3220134860603139e-05, 1.3220134860603139e-05, 0.28280583024024963, 0.06908173859119415, 0.06908173859119415, 0.00011760003690142184, 0.13348853588104248, 0.13348853588104248, 0.0010459355544298887, 7.517073390772566e-05, 0.06908173859119415, 0.06908173859119415],[0.00037734152283519506, 6.917145947227255e-05, 0.14697107672691345, 0.0007095871260389686, 0.2602352201938629, 0.0008033221238292754, 1.2165053703938611e-05, 1.2165053703938611e-05, 0.2602352201938629, 0.00010821453906828538, 0.06356829404830933, 0.06356829404830933, 0.000962460704613477, 6.917145947227255e-05, 0.07298671454191208, 0.0008033221238292754, 1.2165053703938611e-05, 1.2165053703938611e-05, 6.917145947227255e-05, 0.00010821453906828538, 0.06356829404830933, 0.06356829404830933, 0.000962460704613477, 6.917145947227255e-05],[0.0001286879851249978, 0.009502300061285496, 0.0001286879851249978, 0.13110384345054626, 0.2321401685476303, 0.0007165939314290881, 1.0851701517822221e-05, 1.0851701517822221e-05, 0.2321401685476303, 0.056705500930547714, 0.056705500930547714, 9.653157758293673e-05, 0.1095736026763916, 0.056705500930547714, 0.0008585525210946798, 6.17036348558031e-05, 0.056705500930547714, 0.056705500930547714],[0.00012936645362060517, 0.023210005834698677, 0.32023000717163086, 2.246507938252762e-05, 0.0017503296257928014, 0.1546313762664795, 2.650600072229281e-05, 0.00012936645362060517, 0.023210005834698677, 0.32023000717163086, 2.246507938252762e-05, 0.0017503296257928014, 0.1546313762664795, 2.650600072229281e-05],[8.367979899048805e-05, 0.0003437344275880605, 0.0007040241034701467, 0.00012905643961858004, 0.27421069145202637, 4.393131530378014e-05, 0.0014987945323809981, 2.2696913219988346e-05, 2.2696913219988346e-05, 0.48553356528282166, 0.00020190094073768705, 0.11860258132219315, 0.11860258132219315],[0.00010182078403886408, 0.015680301934480667, 0.00011378401541151106, 0.00010182078403886408, 0.21634215116500854, 0.38306811451911926, 0.0011824937537312508, 1.7907030269270763e-05, 1.7907030269270763e-05, 0.38306811451911926],[7.411293336190283e-05, 6.900371317897225e-06, 7.411293336190283e-05, 7.411293336190283e-05, 0.15747031569480896, 0.0008607091149315238, 1.3034101357334293e-05, 1.3034101357334293e-05, 0.27882617712020874, 0.00011594517127377912, 0.06810961663722992, 0.06810961663722992, 0.010055921971797943, 7.411293336190283e-05, 0.0008607091149315238, 1.3034101357334293e-05, 1.3034101357334293e-05, 0.27882617712020874, 0.00011594517127377912, 0.06810961663722992, 0.06810961663722992],[2.3951183720782865e-06, 0.0019510347628965974, 0.008338291198015213, 5.414508996182121e-05, 0.11504395306110382, 0.20370358228683472, 0.0006288129952736199, 9.52239497564733e-06, 9.52239497564733e-06, 0.20370358228683472, 8.470669854432344e-05, 0.04975922033190727, 0.04975922033190727, 0.007346610073000193, 5.414508996182121e-05, 0.0006288129952736199, 0.05555196478962898, 9.52239497564733e-06, 0.20370358228683472, 8.470669854432344e-05, 0.04975922033190727, 0.04975922033190727],[6.6233282268513e-05, 0.002753061940893531, 0.0003613134613260627, 6.6233282268513e-05, 0.140728160738945, 0.12097864598035812, 0.0007691989885643125, 0.12097864598035812, 1.164832337963162e-05, 0.12097864598035812, 1.164832337963162e-05, 0.24918153882026672, 0.12097864598035812, 0.12097864598035812, 0.00010361794556956738, 0.0009215787285938859, 6.6233282268513e-05],[8.674566197441891e-05, 7.776980623930285e-07, 0.00047321183956228197, 8.674566197441891e-05, 0.18431152403354645, 0.000429928011726588, 0.3263527750968933, 0.00100741907954216, 1.5255795915436465e-05, 1.5255795915436465e-05, 0.3263527750968933, 0.0001357083092443645, 0.07971906661987305, 0.07971906661987305, 0.0012069905642420053, 8.674566197441891e-05],[4.211328359815525e-06, 1.6445513892904273e-06, 0.00031611978192813694, 4.211328359815525e-06, 0.12312565743923187, 0.21801351010799408, 0.000672986323479563, 1.0191331966780126e-05, 1.0191331966780126e-05, 0.21801351010799408, 9.065724589163437e-05, 0.05325474590063095, 0.05325474590063095, 0.007862701080739498, 5.794872049591504e-05, 0.000672986323479563, 1.0191331966780126e-05, 1.0191331966780126e-05, 0.21801351010799408, 9.065724589163437e-05, 0.05325474590063095, 0.05325474590063095],[0.0006768578314222395, 0.0029000097420066595, 0.01518158707767725, 0.007653886917978525, 0.013147964142262936, 0.17993533611297607, 0.18904201686382294, 0.045674990862607956, 6.267136632231995e-05, 0.045674990862607956, 0.0006768578314222395, 0.0029000097420066595, 0.01518158707767725, 0.007653886917978525, 0.013147964142262936, 0.17993533611297607, 0.18904201686382294, 0.045674990862607956, 6.267136632231995e-05, 0.045674990862607956],[5.869417145731859e-05, 0.009038846008479595, 5.869417145731859e-05, 0.12470954656600952, 0.0006021068547852337, 0.10720805078744888, 0.0006816436653025448, 0.10720805078744888, 1.032243380905129e-05, 0.10720805078744888, 1.032243380905129e-05, 0.22081804275512695, 0.10720805078744888, 0.10720805078744888, 9.182345820590854e-05, 0.0539398156106472, 0.0539398156106472],[4.7753834223840386e-05, 0.00016435683937743306, 0.0005426781717687845, 4.7753834223840386e-05, 0.10146424174308777, 0.17965850234031677, 0.0005545882740989327, 0.1816362738609314, 8.39837684907252e-06, 0.08722493797540665, 8.39837684907252e-06, 0.17965850234031677, 0.1816362738609314, 0.08722493797540665, 7.470797572750598e-05],[5.633145337924361e-05, 0.00023139468976296484, 0.00047393402201123536, 8.687804802320898e-05, 0.18459279835224152, 0.3268508315086365, 0.0010089565766975284, 1.527907807030715e-05, 1.527907807030715e-05, 0.3268508315086365, 0.00013591541210189462, 0.07984073460102081, 0.07984073460102081],[4.795100539922714e-05, 0.00026158062973991036, 4.795100539922714e-05, 0.1018831804394722, 0.0004918994382023811, 0.08758508414030075, 0.0005568781052716076, 0.08758508414030075, 8.433053153567016e-06, 0.18238623440265656, 8.433053153567016e-06, 0.0005568781052716076, 0.1804002970457077, 0.08758508414030075, 0.18238623440265656, 7.501643267460167e-05, 0.04406686872243881, 0.04406686872243881],[0.0003816350654233247, 0.0004517348716035485, 0.2531973123550415, 0.0013839389430359006, 0.12226289510726929, 0.12226289510726929, 0.0003816350654233247, 0.0004517348716035485, 0.2531973123550415, 0.0013839389430359006, 0.12226289510726929, 0.12226289510726929],[5.793922537122853e-05, 0.0003160680062137544, 5.793922537122853e-05, 0.123105488717556, 0.21797780692577362, 0.0006728760781697929, 1.0189663044002373e-05, 1.0189663044002373e-05, 0.21797780692577362, 9.064239566214383e-05, 0.05324602127075195, 0.05324602127075195, 0.007861413061618805, 5.793922537122853e-05, 0.0006728760781697929, 1.0189663044002373e-05, 1.0189663044002373e-05, 0.21797780692577362, 9.064239566214383e-05, 0.05324602127075195, 0.05324602127075195],[5.7429602748015895e-05, 0.008844103664159775, 5.7429602748015895e-05, 0.12202267348766327, 0.0002649160451255739, 0.21606050431728363, 0.0006669575814157724, 1.0100035979121458e-05, 1.0100035979121458e-05, 0.21606050431728363, 8.984511805465445e-05, 0.05277767777442932, 0.05277767777442932, 0.0077922651544213295, 5.7429602748015895e-05, 0.0006669575814157724, 1.0100035979121458e-05, 1.0100035979121458e-05, 0.21606050431728363, 8.984511805465445e-05, 0.05277767777442932, 0.05277767777442932],[0.0002698104945011437, 7.48695238144137e-05, 0.15907788276672363, 0.2816726267337799, 0.0008694957941770554, 1.3167162251193076e-05, 1.3167162251193076e-05, 0.2816726267337799, 0.06880492717027664, 0.06880492717027664, 0.0010417444864287972, 7.48695238144137e-05, 0.06880492717027664, 0.06880492717027664],[5.6635955843375996e-05, 0.00029152611386962235, 0.17997103929519653, 0.31866729259490967, 0.0009836946846917272, 1.4896527318342123e-05, 1.4896527318342123e-05, 5.6635955843375996e-05, 0.00029152611386962235, 0.17997103929519653, 0.31866729259490967, 0.0009836946846917272, 1.4896527318342123e-05, 1.4896527318342123e-05],[0.0036089052446186543, 0.2357322722673416, 0.0018900069408118725, 0.0036089052446186543, 0.0001653964864090085, 1.922043702506926e-05, 0.7267900109291077, 0.002066380111500621, 0.012694493867456913, 0.0025977587793022394],[6.420970021281391e-05, 0.009888232685625553, 6.420970021281391e-05, 0.1364285945892334, 0.00031823551398701966, 0.241568461060524, 0.0007456981693394482, 1.1292439921817277e-05, 1.1292439921817277e-05, 0.241568461060524, 0.00010045217641163617, 0.008712214417755604, 6.420970021281391e-05, 0.0007456981693394482, 1.1292439921817277e-05, 1.1292439921817277e-05, 0.241568461060524, 0.00010045217641163617, 0.05900857597589493, 0.05900857597589493],[0.012060537002980709, 0.03565160557627678, 0.019879262894392014, 0.0015593153657391667, 0.0006863008602522314, 0.04622844606637955, 0.38393449783325195, 0.012060537002980709, 0.03565160557627678, 0.019879262894392014, 0.0015593153657391667, 0.0006863008602522314, 0.04622844606637955, 0.38393449783325195],[0.00021157061564736068, 0.2025102823972702, 0.0021860692650079727, 0.05986226350069046, 0.010771236382424831, 0.07159927487373352, 0.15285928547382355, 0.00021157061564736068, 0.2025102823972702, 0.0021860692650079727, 0.05986226350069046, 0.010771236382424831, 0.07159927487373352, 0.15285928547382355],[5.4851832828717306e-05, 0.002878009108826518, 0.0002992257650475949, 5.4851832828717306e-05, 0.11654559522867203, 0.20636247098445892, 0.0006370207411237061, 9.646688340581022e-06, 9.646688340581022e-06, 0.20636247098445892, 8.581235306337476e-05, 0.05040871351957321, 0.05040871351957321, 0.007442503236234188, 5.4851832828717306e-05, 0.0006370207411237061, 9.646688340581022e-06, 9.646688340581022e-06, 0.20636247098445892, 0.05040871351957321, 8.581235306337476e-05, 0.05040871351957321, 0.05040871351957321],[4.19655698351562e-05, 0.0002289289841428399, 4.19655698351562e-05, 0.08916574716567993, 0.15788187086582184, 0.00048736677854321897, 7.380405349977082e-06, 7.380405349977082e-06, 0.15788187086582184, 0.038566190749406815, 6.56525808153674e-05, 0.038566190749406815, 0.038566190749406815, 0.000583914399612695, 4.19655698351562e-05, 0.038566190749406815, 0.038566190749406815, 0.005694043822586536, 4.19655698351562e-05, 0.00048736677854321897, 0.04305591806769371, 7.380405349977082e-06, 0.15788187086582184, 0.038566190749406815, 6.56525808153674e-05, 0.038566190749406815, 0.038566190749406815, 0.000583914399612695, 4.19655698351562e-05, 0.038566190749406815, 0.038566190749406815]];
var example_range = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50];

    var color = "255,0,0";
    var ngram_length = 3;
    var half_ngram = 1;
    for (var k=0; k < any_text.length; k++) {
    var tokens = any_text[k].split(" ");
    var intensity = new Array(tokens.length);
    var max_intensity = Number.MIN_SAFE_INTEGER;
    var min_intensity = Number.MAX_SAFE_INTEGER;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = 0.0;
    for (var j = -half_ngram; j < ngram_length-half_ngram; j++) {
    if (i+j < intensity.length && i+j > -1) {
    intensity[i] += trigram_weights[k][i + j];
    }
    }
    if (i == 0 || i == intensity.length-1) {
    intensity[i] /= 2.0;
    } else {
    intensity[i] /= 3.0;
    }
    if (intensity[i] > max_intensity) {
    max_intensity = intensity[i];
    }
    if (intensity[i] < min_intensity) {
    min_intensity = intensity[i];
    }
    }
    var denominator = max_intensity - min_intensity;
    for (var i = 0; i < intensity.length; i++) {
    intensity[i] = (intensity[i] - min_intensity) / denominator;
    }
    if (k%2 == 0) {
    var heat_text = "<p><br><b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    } else {
    var heat_text = "<b>" + example_range[k] + ". (h" + att_heads[k] + ")</b><br>";
    }
    var space = "";
    for (var i = 0; i < tokens.length; i++) {
    heat_text += "<span style='background-color:rgba(" + color + "," + intensity[i] + ")'>" + space + tokens[i] + "</span>";
    if (space == "") {
    space = " ";
    }
    }
    //heat_text += "<p>";
    document.body.innerHTML += heat_text;
    }
    </script>
    </html>